<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link href="https://gmpg.org/xfn/11" rel="profile"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-5GDZWWBRFX"></script><script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-5GDZWWBRFX');
                </script><link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://rusith.me/icons/favicon-144-image.png"/><link rel="shortcut icon" href="https://rusith.me/favicon.ico"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/><meta property="og:image" content="https://rusith.me/images/banner/default.jpg"/><meta property="twitter:creator" content="@rusith_"/><meta name="robots" content="index,follow"/><title>React Form Validation Using Custom Hooks</title><meta name="description" content="Form validation in react is bit tricky. This is an attempt to make it bit easy by using react hooks. here we write few custom hooks to create a re-usable validation logic that can be used in any form."/><link rel="canonical" href="https://rusith.me/blog/react-form-validation-using-custom-hooks"/><meta property="og:title" content="React Form Validation Using Custom Hooks"/><meta property="og:url" content="https://rusith.me/blog/react-form-validation-using-custom-hooks"/><meta property="og:description" content="Form validation in react is bit tricky. This is an attempt to make it bit easy by using react hooks. here we write few custom hooks to create a re-usable validation logic that can be used in any form."/><meta property="og:site_name" content="Rusith&#x27;s blog"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="blog"/><meta property="twitter:description" content="A way to create a re-usable form validation logic using React hooks"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="React Form Validation Using Custom Hooks"/><meta name="twitter:image" content="https://rusith.me/images/banner/default.jpg"/><meta name="twitter:site" content="@rusith_"/><script type="application/ld+json">{"@type":"BlogPosting","@context":"https://schema.org","headline":"React Form Validation Using Custom Hooks","author":{"@type":"Person","name":"Shanaka Rusith","url":"https://rusith.me/about"},"keywords":"web,programming,react,javascript","url":"https://rusith.me/blog/react-form-validation-using-custom-hooks","description":"Form validation in react is bit tricky. This is an attempt to make it bit easy by using react hooks. here we write few custom hooks to create a re-usable validation logic that can be used in any form.","copyrightHolder":{"@type":"Person","name":"Shanaka Rusith","url":"https://rusith.me/about"},"copyrightYear":"2021","mainEntityOfPage":{"@type":"WebPage","@id":"https://rusith.me"},"publisher":{"@type":"Organization","name":"Shanaka Rusith","url":"https://rusith.me/about","logo":{"@type":"ImageObject","url":"https://rusith.me/images/rusith/picture.jpg"}},"image":"https://rusith.me/images/banner/default.jpg","about":"A way to create a re-usable form validation logic using React hooks","datePublished":"Mon Jun 24 2019 00:00:00 GMT+0000 (Coordinated Universal Time)","dateModified":"Mon Jun 24 2019 00:00:00 GMT+0000 (Coordinated Universal Time)"}</script><meta name="next-head-count" content="27"/><link rel="preload" href="/_next/static/css/7220332d6168fb06.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7220332d6168fb06.css" data-n-g=""/><link rel="preload" href="/_next/static/css/0662676664ee362f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0662676664ee362f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-05c0aa1e498fcb8c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f89480c30d9a5d02.js" defer=""></script><script src="/_next/static/chunks/947-277c090e7d6803d0.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...path%5D%5D-d5cf2aa81a49e144.js" defer=""></script><script src="/_next/static/PaoTT2YDvwYY_jbobaNoC/_buildManifest.js" defer=""></script><script src="/_next/static/PaoTT2YDvwYY_jbobaNoC/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="Sidebar_r__IEuUi"><div class="Sidebar_sticky__RE23V"><div class="Sidebar_about__s_kM6"><h2><a href="/">Rusith.me</a></h2><div class="Sidebar_socialButtons__XcH6p"><a href="https://www.linkedin.com/in/shanaka-rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="LinkedIn icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTYsMzJIMzEuOUMxNC4zLDMyLDAsNDYuNSwwLDY0LjN2MzgzLjRDMCw0NjUuNSwxNC4zLDQ4MCwzMS45LDQ4MEg0MTZjMTcuNiwwLDMyLTE0LjUsMzItMzIuM1Y2NC4zCglDNDQ4LDQ2LjUsNDMzLjYsMzIsNDE2LDMyeiBNMTM1LjQsNDE2SDY5VjIwMi4yaDY2LjVWNDE2SDEzNS40eiBNMTAyLjIsMTczYy0yMS4zLDAtMzguNS0xNy4zLTM4LjUtMzguNVM4MC45LDk2LDEwMi4yLDk2CgljMjEuMiwwLDM4LjUsMTcuMywzOC41LDM4LjVDMTQwLjcsMTU1LjgsMTIzLjUsMTczLDEwMi4yLDE3M3ogTTM4NC4zLDQxNmgtNjYuNFYzMTJjMC0yNC44LTAuNS01Ni43LTM0LjUtNTYuNwoJYy0zNC42LDAtMzkuOSwyNy0zOS45LDU0LjlWNDE2aC02Ni40VjIwMi4yaDYzLjd2MjkuMmgwLjljOC45LTE2LjgsMzAuNi0zNC41LDYyLjktMzQuNWM2Ny4yLDAsNzkuNyw0NC4zLDc5LjcsMTAxLjlWNDE2eiIvPgo8L3N2Zz4K"/></a><a href="https://github.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Github icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMzUyYzI2LjUsMCw0OC0yMS41LDQ4LTQ4VjgwCglDNDQ4LDUzLjUsNDI2LjUsMzIsNDAwLDMyeiBNMjc3LjMsNDE1LjdjLTguNCwxLjUtMTEuNS0zLjctMTEuNS04YzAtNS40LDAuMi0zMywwLjItNTUuM2MwLTE1LjYtNS4yLTI1LjUtMTEuMy0zMC43CgljMzctNC4xLDc2LTkuMiw3Ni03My4xYzAtMTguMi02LjUtMjcuMy0xNy4xLTM5YzEuNy00LjMsNy40LTIyLTEuNy00NWMtMTMuOS00LjMtNDUuNywxNy45LTQ1LjcsMTcuOWMtMTMuMi0zLjctMjcuNS01LjYtNDEuNi01LjYKCXMtMjguNCwxLjktNDEuNiw1LjZjMCwwLTMxLjgtMjIuMi00NS43LTE3LjljLTkuMSwyMi45LTMuNSw0MC42LTEuNyw0NWMtMTAuNiwxMS43LTE1LjYsMjAuOC0xNS42LDM5YzAsNjMuNiwzNy4zLDY5LDc0LjMsNzMuMQoJYy00LjgsNC4zLTkuMSwxMS43LTEwLjYsMjIuM2MtOS41LDQuMy0zMy44LDExLjctNDguMy0xMy45Yy05LjEtMTUuOC0yNS41LTE3LjEtMjUuNS0xNy4xYy0xNi4yLTAuMi0xLjEsMTAuMi0xLjEsMTAuMgoJYzEwLjgsNSwxOC40LDI0LjIsMTguNCwyNC4yYzkuNywyOS43LDU2LjEsMTkuNyw1Ni4xLDE5LjdjMCwxMy45LDAuMiwzNi41LDAuMiw0MC42YzAsNC4zLTMsOS41LTExLjUsOAoJYy02Ni0yMi4xLTExMi4yLTg0LjktMTEyLjItMTU4LjNjMC05MS44LDcwLjItMTYxLjUsMTYyLTE2MS41UzM4OCwxNjUuNiwzODgsMjU3LjRDMzg4LjEsMzMwLjgsMzQzLjMsMzkzLjcsMjc3LjMsNDE1Ljd6CgkgTTE3OS4yLDM1NC42Yy0xLjksMC40LTMuNy0wLjQtMy45LTEuN2MtMC4yLTEuNSwxLjEtMi44LDMtMy4yYzEuOS0wLjIsMy43LDAuNiwzLjksMS45QzE4Mi41LDM1Mi45LDE4MS4yLDM1NC4yLDE3OS4yLDM1NC42CglMMTc5LjIsMzU0LjZ6IE0xNjkuNywzNTMuN2MwLDEuMy0xLjUsMi40LTMuNSwyLjRjLTIuMiwwLjItMy43LTAuOS0zLjctMi40YzAtMS4zLDEuNS0yLjQsMy41LTIuNAoJQzE2Ny45LDM1MS4xLDE2OS43LDM1Mi4yLDE2OS43LDM1My43eiBNMTU2LDM1Mi42Yy0wLjQsMS4zLTIuNCwxLjktNC4xLDEuM2MtMS45LTAuNC0zLjItMS45LTIuOC0zLjJjMC40LTEuMywyLjQtMS45LDQuMS0xLjUKCUMxNTUuMiwzNDkuOCwxNTYuNSwzNTEuMywxNTYsMzUyLjZMMTU2LDM1Mi42eiBNMTQzLjcsMzQ3LjJjLTAuOSwxLjEtMi44LDAuOS00LjMtMC42Yy0xLjUtMS4zLTEuOS0zLjItMC45LTQuMQoJYzAuOS0xLjEsMi44LTAuOSw0LjMsMC42QzE0NC4xLDM0NC40LDE0NC42LDM0Ni40LDE0My43LDM0Ny4yeiBNMTM0LjYsMzM4LjFjLTAuOSwwLjYtMi42LDAtMy43LTEuNXMtMS4xLTMuMiwwLTMuOQoJYzEuMS0wLjksMi44LTAuMiwzLjcsMS4zQzEzNS43LDMzNS41LDEzNS43LDMzNy4zLDEzNC42LDMzOC4xeiBNMTI4LjEsMzI4LjRjLTAuOSwwLjktMi40LDAuNC0zLjUtMC42Yy0xLjEtMS4zLTEuMy0yLjgtMC40LTMuNQoJYzAuOS0wLjksMi40LTAuNCwzLjUsMC42QzEyOC44LDMyNi4yLDEyOSwzMjcuNywxMjguMSwzMjguNHogTTEyMS40LDMyMWMtMC40LDAuOS0xLjcsMS4xLTIuOCwwLjRjLTEuMy0wLjYtMS45LTEuNy0xLjUtMi42CgljMC40LTAuNiwxLjUtMC45LDIuOC0wLjRDMTIxLjIsMzE5LjEsMTIxLjgsMzIwLjIsMTIxLjQsMzIxeiIvPgo8L3N2Zz4K"/></a><a href="https://gitlab.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Gitlab icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUuMiwyNC45Yy0zLjEtOC45LTE1LjctOC45LTE4LjksMEwyOS44LDE5OS43aDEzMkMxNjEuNywxOTkuNywxMDUuMiwyNC45LDEwNS4yLDI0Ljl6IE0wLjksMjg3LjcKCWMtMi42LDgsMC4zLDE2LjksNy4xLDIybDI0Ny45LDE4NGwtMjI2LjItMjk0TDAuOSwyODcuN3ogTTE2MS43LDE5OS43bDk0LjMsMjk0bDk0LjMtMjk0SDE2MS43eiBNNTExLjEsMjg3LjdsLTI4LjgtODhMMjU2LDQ5My43CglsMjQ3LjktMTg0QzUxMC44LDMwNC42LDUxMy42LDI5NS43LDUxMS4xLDI4Ny43eiBNNDI1LjcsMjQuOWMtMy4xLTguOS0xNS43LTguOS0xOC45LDBsLTU2LjYsMTc0LjhoMTMyTDQyNS43LDI0Ljl6Ii8+Cjwvc3ZnPgo="/></a><a href="http://goodreads.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="GoodReads icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yOTkuOSwxOTEuMmM1LjEsMzcuMy00LjcsNzktMzUuOSwxMDAuN2MtMjIuMywxNS41LTUyLjgsMTQuMS03MC44LDUuN2MtMzcuMS0xNy4zLTQ5LjUtNTguNi00Ni44LTk3LjIKCWM0LjMtNjAuOSw0MC45LTg3LjksNzUuMy04Ny41QzI2OC42LDExMi43LDI5My41LDE0NC43LDI5OS45LDE5MS4yTDI5OS45LDE5MS4yeiBNNDQ4LDg4djMzNmMwLDMwLjktMjUuMSw1Ni01Niw1Nkg1NgoJYy0zMC45LDAtNTYtMjUuMS01Ni01NlY4OGMwLTMwLjksMjUuMS01Niw1Ni01NmgzMzZDNDIyLjksMzIsNDQ4LDU3LjEsNDQ4LDg4eiBNMzMwLDMxMy4yYzAsMC0wLjEtMzQtMC4xLTIxNy4zaC0yOXY0MC4zCgljLTAuOCwwLjMtMS4yLTAuNS0xLjYtMS4yYy05LjYtMjAuNy0zNS45LTQ2LjMtNzYtNDZjLTUxLjksMC40LTg3LjIsMzEuMi0xMDAuNiw3Ny44Yy00LjMsMTQuOS01LjgsMzAuMS01LjUsNDUuNgoJYzEuNyw3Ny45LDQ1LjEsMTE3LjgsMTEyLjQsMTE1LjJjMjguOS0xLjEsNTQuNS0xNyw2OS00NS4yYzAuNS0xLDEuMS0xLjksMS43LTIuOWMwLjIsMC4xLDAuNCwwLjEsMC42LDAuMgoJYzAuMywzLjgsMC4yLDMwLjcsMC4xLDM0LjVjLTAuMiwxNC44LTIsMjkuNS03LjIsNDMuNWMtNy44LDIxLTIyLjMsMzQuNy00NC41LDM5LjVjLTE3LjgsMy45LTM1LjYsMy44LTUzLjItMS4yCgljLTIxLjUtNi4xLTM2LjUtMTktNDEuMS00MS44Yy0wLjMtMS42LTEuMy0xLjMtMi4zLTEuM2gtMjYuOGMwLjgsMTAuNiwzLjIsMjAuMyw4LjUsMjkuMmMyNC4yLDQwLjUsODIuNyw0OC41LDEyOC4yLDM3LjQKCUMzMTIuNSw0MDcuMiwzMjkuOSwzNjQuNiwzMzAsMzEzLjJMMzMwLDMxMy4yeiIvPgo8L3N2Zz4K"/></a><a href="https://twitter.com/rusith_" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Twitter icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMzUyYzI2LjUsMCw0OC0yMS41LDQ4LTQ4VjgwCglDNDQ4LDUzLjUsNDI2LjUsMzIsNDAwLDMyeiBNMzUxLjEsMTkwLjhjMC4yLDIuOCwwLjIsNS43LDAuMiw4LjVjMCw4Ni43LTY2LDE4Ni42LTE4Ni42LDE4Ni42Yy0zNy4yLDAtNzEuNy0xMC44LTEwMC43LTI5LjQKCWM1LjMsMC42LDEwLjQsMC44LDE1LjgsMC44YzMwLjcsMCw1OC45LTEwLjQsODEuNC0yOGMtMjguOC0wLjYtNTMtMTkuNS02MS4zLTQ1LjVjMTAuMSwxLjUsMTkuMiwxLjUsMjkuNi0xLjIKCWMtMzAtNi4xLTUyLjUtMzIuNS01Mi41LTY0LjR2LTAuOGM4LjcsNC45LDE4LjksNy45LDI5LjYsOC4zYy0xOC4zLTEyLjItMjkuMi0zMi43LTI5LjItNTQuNmMwLTEyLjIsMy4yLTIzLjQsOC45LTMzLjEKCWMzMi4zLDM5LjgsODAuOCw2NS44LDEzNS4yLDY4LjZjLTkuMy00NC41LDI0LTgwLjYsNjQtODAuNmMxOC45LDAsMzUuOSw3LjksNDcuOSwyMC43YzE0LjgtMi44LDI5LTguMyw0MS42LTE1LjgKCWMtNC45LDE1LjItMTUuMiwyOC0yOC44LDM2LjFjMTMuMi0xLjQsMjYtNS4xLDM3LjgtMTAuMkMzNzUuMSwxNjkuOSwzNjMuOSwxODEuNSwzNTEuMSwxOTAuOHoiLz4KPC9zdmc+Cg=="/></a><a href="https://www.facebook.com/shanaka.rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Facebook icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMTM3LjNWMzI3LjdoLTYzVjI1Nmg2M3YtNTQuNgoJYzAtNjIuMiwzNy05Ni41LDkzLjctOTYuNWMyNy4xLDAsNTUuNSw0LjgsNTUuNSw0Ljh2NjFoLTMxLjNjLTMwLjgsMC00MC40LDE5LjEtNDAuNCwzOC43VjI1Nmg2OC44bC0xMSw3MS43aC01Ny44VjQ4MEg0MDAKCWMyNi41LDAsNDgtMjEuNSw0OC00OFY4MEM0NDgsNTMuNSw0MjYuNSwzMiw0MDAsMzJ6Ii8+Cjwvc3ZnPgo="/></a></div><p>A blog from a tech and art enthusiast</p></div><div class="Sidebar_nav__CTYKS"><div class="Sidebar_tagWrapper__w460D"><a href="/tag/programming/"><span class="Sidebar_tag__mAo8y">#<!-- -->programming</span></a><a href="/tag/aws/"><span class="Sidebar_tag__mAo8y">#<!-- -->aws</span></a><a href="/tag/web/"><span class="Sidebar_tag__mAo8y">#<!-- -->web</span></a><a href="/tag/machineLearning/"><span class="Sidebar_tag__mAo8y">#<!-- -->machineLearning</span></a><a href="/tag/react/"><span class="Sidebar_tag__mAo8y">#<!-- -->react</span></a><a href="/tag/javascript/"><span class="Sidebar_tag__mAo8y">#<!-- -->javascript</span></a><a href="/tag/dataScience/"><span class="Sidebar_tag__mAo8y">#<!-- -->dataScience</span></a><a href="/tag/typescript/"><span class="Sidebar_tag__mAo8y">#<!-- -->typescript</span></a><a href="/tag/r/"><span class="Sidebar_tag__mAo8y">#<!-- -->r</span></a><a href="/tag/csharp/"><span class="Sidebar_tag__mAo8y">#<!-- -->csharp</span></a></div></div></div></div><div class="comp_content__73ns2"><div><h1>React Form Validation Using Custom Hooks</h1><div class="Post_tags__HKWUb"><a class="Post_tag__5GXoX" href="https://rusith.me/tag/web">#<!-- -->web</a><a class="Post_tag__5GXoX" href="https://rusith.me/tag/programming">#<!-- -->programming</a><a class="Post_tag__5GXoX" href="https://rusith.me/tag/react">#<!-- -->react</a><a class="Post_tag__5GXoX" href="https://rusith.me/tag/javascript">#<!-- -->javascript</a></div><span class="Post_date__h8Of6">Mon, Jun 24, 2019</span><div><p>Validation!</p>
<p>I have this sign-up form here that I want to validate. What do I need to validate? 
First, firstName and lastName should be entered! and the email should be a valid one. and the passwords should match and should not be empty.
Okay, a typical form with typical validation scenarios. the best example in the world (maybe not)</p>
<p>Here you have the source code for my sweet little simple sign up page. no bullshit at all here. I have removed everything and included only the things that are necessary.</p>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">doSignUp</span>(<span class="hljs-params">userInfo</span>) {
  <span class="hljs-comment">// Go to the server || dispatch an action</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SignUp</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [firstName, setFirstName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [lastName, setLastName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [email, setEmail] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [password, setPassword] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [repeatPassword, setRepeatPassword] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)


  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleSignUp</span>(<span class="hljs-params"></span>) {
    <span class="hljs-title function_">doSignUp</span>({ firstName, lastName, email, password })
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;sign-up&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setFirstName(e.target.value)} value={firstName} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setLastName(e.target.value)} value={lastName} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setEmail(e.target.value)} value={email} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setPassword(e.target.value)} value={password} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setRepeatPassword(e.target.value)} value={repeatPassword} /&gt;

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSignUp}</span>&gt;</span>Sign me up! <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>I have avoided the form tags and stuff for the sake of simplicity.</p>
<p>If you press the button on this page it will go to the signUp process and do the thing. If you haven't done any back end validation, you are screwed up.(always do back end validation. never trust your user (yourself in this case)). We don't want this to happen. so we validate and show sweet little messages in the UI.</p>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">doSignUp</span>(<span class="hljs-params">userInfo</span>) {
  <span class="hljs-comment">// Go to the server || dispatch an action</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateEmail</span>(<span class="hljs-params">email</span>) {
    <span class="hljs-keyword">let</span> re = <span class="hljs-regexp">/^(([^&lt;&gt;()\[\]\\.,;:\s@&quot;]+(\.[^&lt;&gt;()\[\]\\.,;:\s@&quot;]+)*)|(&quot;.+&quot;))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/</span>;
    <span class="hljs-keyword">return</span> re.<span class="hljs-title function_">test</span>(<span class="hljs-title class_">String</span>(email).<span class="hljs-title function_">toLowerCase</span>());
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateForm</span>(<span class="hljs-params">values</span>) {
  <span class="hljs-keyword">const</span> errors = {}
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">firstName</span>) errors.<span class="hljs-property">firstName</span> = <span class="hljs-string">&quot;First name is required&quot;</span> <span class="hljs-comment">// pretty standard error messages. cuz im too lazy to think</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">lastName</span>) errors.<span class="hljs-property">lastName</span> = <span class="hljs-string">&quot;Last name is required&quot;</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">email</span>) errors.<span class="hljs-property">email</span> = <span class="hljs-string">&quot;Email address is required&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">validateEmail</span>(values.<span class="hljs-property">email</span>)) errors.<span class="hljs-property">email</span> = <span class="hljs-string">&quot;Not a valid email address&quot;</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">password</span>) errors.<span class="hljs-property">password</span> = <span class="hljs-string">&quot;Password is required&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">repeatPassword</span>) errors.<span class="hljs-property">repeatPassword</span> = <span class="hljs-string">&quot;Please repeat the password&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">password</span> != values.<span class="hljs-property">repeatPassword</span>) errors.<span class="hljs-property">repeatPassword</span> = <span class="hljs-string">&quot;Passwords don&#x27;t match&quot;</span>

  <span class="hljs-keyword">return</span> errors
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SignUp</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [firstName, setFirstName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [lastName, setLastName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [email, setEmail] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [password, setPassword] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [repeatPassword, setRepeatPassword] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [errors, setErrors] = <span class="hljs-title function_">useState</span>({})


  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleSignUp</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> errors = <span class="hljs-title function_">validateForm</span>({ firstName, lastName, email, password, repeatPassword })
    <span class="hljs-title function_">setErrors</span>(errors)
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(errors).<span class="hljs-property">length</span>) {
      <span class="hljs-title function_">doSignUp</span>({ firstName, lastName, email, password })
    }
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;sign-up&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setFirstName(e.target.value)} value={firstName} /&gt;
      {errors.firstName &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.firstName}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setLastName(e.target.value)} value={lastName} /&gt;
      {errors.lastName &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.lastName}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setEmail(e.target.value)} value={email} /&gt;
      {errors.email &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setPassword(e.target.value)} value={password} /&gt;
      {errors.password &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.password}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setRepeatPassword(e.target.value)} value={repeatPassword} /&gt;
      {errors.repeatPassword &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.repeatPassword}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSignUp}</span>&gt;</span>Sign me up! <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>Now if you press the button it won't do anything and show messages below the inputs. good.
you could use something like Formik or some other alternative way to do this validation. But I don't want to load any external library just to validate a few little forms in my app. let's do this ourselves.</p>
<p>Okay, let's see what we can do to improve this code to make it more modular and readable.</p>
<p>You can see the <code>onChange</code> handlers in the input have the same repeating pattern. can't we extract it out and reuse that logic?
Let's do that now.</p>
<p>Let's create a hook that will get the value from an event and set it</p>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useInputValue</span>(<span class="hljs-params">initialValue</span>) {
  <span class="hljs-keyword">const</span> [value, setValue] = <span class="hljs-title function_">useState</span>(initialValue)

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">retrieveValue</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-title function_">setValue</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>)
  }
  <span class="hljs-keyword">return</span> [value, retrieveValue]
}


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SignUp</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [firstName, setFirstName] = <span class="hljs-title function_">useInputValue</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [lastName, setLastName] = <span class="hljs-title function_">useInputValue</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [email, setEmail] = <span class="hljs-title function_">useInputValue</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [password, setPassword] = <span class="hljs-title function_">useInputValue</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [repeatPassword, setRepeatPassword] = <span class="hljs-title function_">useInputValue</span>(<span class="hljs-string">&#x27;&#x27;</span>)
  <span class="hljs-keyword">const</span> [errors, setErrors] = <span class="hljs-title function_">useState</span>({})


  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleSignUp</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> errors = <span class="hljs-title function_">validateForm</span>({ firstName, lastName, email, password, repeatPassword })
    <span class="hljs-title function_">setErrors</span>(errors)
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(errors).<span class="hljs-property">length</span>) {
      <span class="hljs-title function_">doSignUp</span>({ firstName, lastName, email, password })
    }
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;sign-up&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{setFirstName}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{firstName}</span> /&gt;</span>
      {errors.firstName &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.firstName}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{setLastName}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{lastName}</span> /&gt;</span>
      {errors.lastName &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.lastName}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{setEmail}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{email}</span> /&gt;</span>
      {errors.email &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{setPassword}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{password}</span> /&gt;</span>
      {errors.password &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.password}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{setRepeatPassword}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{repeatPassword}</span> /&gt;</span>
      {errors.repeatPassword &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{errors.repeatPassword}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSignUp}</span>&gt;</span>Sign me up! <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>Okay so far so good. let's now try to remove the repeated state declarations and move them somewhere else. we can create another hook for that.
That will look something like below. This is the main hook that we are going to use to create the form. this includes all the logic to run validations when necessary.</p>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useForm</span>(<span class="hljs-params">initialValues, validateForm</span>) {
  <span class="hljs-keyword">if</span> (!initialValues) {
    <span class="hljs-keyword">throw</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Initial values are required&#x27;</span>)
  }

  <span class="hljs-keyword">const</span> values = {}
  <span class="hljs-keyword">const</span> valuesWithSetters = {}
  <span class="hljs-keyword">const</span> [errors, setErrors ] = <span class="hljs-title function_">useState</span>({})
  <span class="hljs-keyword">const</span> keys =  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(initialValues)

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, l = keys.<span class="hljs-property">length</span>; i &lt; l; i ++) {
    <span class="hljs-keyword">const</span> key = keys[i]
    <span class="hljs-keyword">const</span> [val, setVal] = <span class="hljs-title function_">useInputValue</span>(initialValues[key])
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">setValWrapper</span> = (<span class="hljs-params">...pars</span>) =&gt; {
      <span class="hljs-keyword">if</span> (errors[key]) {
        <span class="hljs-keyword">const</span> er = {...errors}
        <span class="hljs-keyword">delete</span> er[key]
        <span class="hljs-title function_">setErrors</span>(er)
      }
      <span class="hljs-title function_">setVal</span>(...pars)
    }
    valuesWithSetters[key] = [val, setValWrapper, <span class="hljs-function">() =&gt;</span> errors[key]]
    values[key] = val
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">validate</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> errorObject = {}
    <span class="hljs-title function_">validateForm</span>(errorObject, values)
    <span class="hljs-title function_">setErrors</span>(errorObject)
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(errorObject).<span class="hljs-property">length</span> &lt; <span class="hljs-number">1</span>
  }

  <span class="hljs-keyword">return</span>  [valuesWithSetters, validate, errors, values ]
}
</code></pre>
<p>Okay, what are we doing here? Here we pass a set of initialValue and this hook will create a set of internal states for each key in this object with its value. and what the <code>validate</code> function does is it will call the validate function that we provide to the hook and set the error messages automatically.</p>
<p>Let's use this in our code. We will also write a Component that will help us to display the error messages. we will also have to change the <code>validateForm</code> function to fit with our hook</p>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">validateForm</span>(<span class="hljs-params">errors, values</span>) {
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">firstName</span>) errors.<span class="hljs-property">firstName</span> = <span class="hljs-string">&quot;First name is required&quot;</span> <span class="hljs-comment">// pretty standard error messages. cuz im too lazy to think</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">lastName</span>) errors.<span class="hljs-property">lastName</span> = <span class="hljs-string">&quot;Last name is required&quot;</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">email</span>) errors.<span class="hljs-property">email</span> = <span class="hljs-string">&quot;Email address is required&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">validateEmail</span>(values.<span class="hljs-property">email</span>)) errors.<span class="hljs-property">email</span> = <span class="hljs-string">&quot;Not a valid email address&quot;</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">password</span>) errors.<span class="hljs-property">password</span> = <span class="hljs-string">&quot;Password is required&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">repeatPassword</span>) errors.<span class="hljs-property">repeatPassword</span> = <span class="hljs-string">&quot;Please repeat the password&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (values.<span class="hljs-property">password</span> != values.<span class="hljs-property">repeatPassword</span>) errors.<span class="hljs-property">repeatPassword</span> = <span class="hljs-string">&quot;Passwords don&#x27;t match&quot;</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">renderErrorMessage</span>(<span class="hljs-params">field</span>) {
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">FieldErrorMessage</span> <span class="hljs-attr">field</span>=<span class="hljs-string">{field}</span> &gt;</span>{msg =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;error-messge&quot;</span>&gt;</span>{msg}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}<span class="hljs-tag">&lt;/<span class="hljs-name">FieldErrorMessage</span>&gt;</span></span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SignUp</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [{ firstName, lastName, email, password, repeatPassword }, validate, errors, values ]
    = <span class="hljs-title function_">useForm</span>({ <span class="hljs-attr">firstName</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">lastName</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">repeatPassword</span>: <span class="hljs-string">&#x27;&#x27;</span> }, validateForm)

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleSignUp</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> valid = <span class="hljs-title function_">validate</span>()
    <span class="hljs-keyword">if</span> (valid) {
      <span class="hljs-title function_">doSignUp</span>(values)
    }
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;sign-up&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{firstName[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{firstName[0]}</span> /&gt;</span>
      {renderErrorMessage(firstName)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{lastName[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{lastName[0]}</span> /&gt;</span>
      {renderErrorMessage(lastName)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{email[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{email[0]}</span> /&gt;</span>
      {renderErrorMessage(email)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{password[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{password[0]}</span> /&gt;</span>
      {renderErrorMessage(password)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{repeatPassword[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{repeatPassword[0]}</span> /&gt;</span>
      {renderErrorMessage(repeatPassword)}

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSignUp}</span>&gt;</span>Sign me up! <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>Okay. Now the component looks a bit cleaner. now we can move the hooks that we created into another file and we can also move the helper component (<code>FieldErrorMessage</code>) to a separate file so we can use it in other components too.</p>
<p>Let's see how we can re-use these things to create a simple login form.</p>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>
<span class="hljs-keyword">import</span> { useForm } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./hooks&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">FieldErrorMessage</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./FieldErrorMessage&#x27;</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">doLogin</span>(<span class="hljs-params">credentials</span>) {
  <span class="hljs-comment">// Go to the server || dispatch an action</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateForm</span>(<span class="hljs-params">errors, values</span>) {
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">username</span>) errors.<span class="hljs-property">username</span> = <span class="hljs-string">&quot;Username is required&quot;</span> <span class="hljs-comment">// pretty standard error messages. cuz im too lazy to think</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">password</span>) errors.<span class="hljs-property">password</span> = <span class="hljs-string">&quot;Password is required&quot;</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">renderErrorMessage</span>(<span class="hljs-params">field</span>) {
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">FieldErrorMessage</span> <span class="hljs-attr">field</span>=<span class="hljs-string">{field}</span> &gt;</span>{msg =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;error-messge&quot;</span>&gt;</span>{msg}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}<span class="hljs-tag">&lt;/<span class="hljs-name">FieldErrorMessage</span>&gt;</span></span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SignUp</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [{ username, password }, validate, errors, values ]
    = <span class="hljs-title function_">useForm</span>({ <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;&#x27;</span> }, validateForm)

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleSignUp</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> valid = <span class="hljs-title function_">validate</span>()
    <span class="hljs-keyword">if</span> (valid) {
      <span class="hljs-title function_">doLogin</span>(values)
    }
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;sign-up&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{username[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{username[0]}</span> /&gt;</span>
      {renderErrorMessage(username)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{password[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{password[0]}</span> /&gt;</span>
      {renderErrorMessage(password)}

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSignUp}</span>&gt;</span>Sign me in! <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>And this is our sign up code using hooks imported </p>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>
<span class="hljs-keyword">import</span> { useForm } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./hooks&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">FieldErrorMessage</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./FieldErrorMessage&#x27;</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">doSignUp</span>(<span class="hljs-params">userInfo</span>) {
  <span class="hljs-comment">// Go to the server || dispatch an action</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateEmail</span>(<span class="hljs-params">email</span>) {
    <span class="hljs-keyword">let</span> re = <span class="hljs-regexp">/^(([^&lt;&gt;()\[\]\\.,;:\s@&quot;]+(\.[^&lt;&gt;()\[\]\\.,;:\s@&quot;]+)*)|(&quot;.+&quot;))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/</span>;
    <span class="hljs-keyword">return</span> re.<span class="hljs-title function_">test</span>(<span class="hljs-title class_">String</span>(email).<span class="hljs-title function_">toLowerCase</span>());
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateForm</span>(<span class="hljs-params">errors, values</span>) {
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">firstName</span>) errors.<span class="hljs-property">firstName</span> = <span class="hljs-string">&quot;First name is required&quot;</span> <span class="hljs-comment">// pretty standard error messages. cuz im too lazy to think</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">lastName</span>) errors.<span class="hljs-property">lastName</span> = <span class="hljs-string">&quot;Last name is required&quot;</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">email</span>) errors.<span class="hljs-property">email</span> = <span class="hljs-string">&quot;Email address is required&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">validateEmail</span>(values.<span class="hljs-property">email</span>)) errors.<span class="hljs-property">email</span> = <span class="hljs-string">&quot;Not a valid email address&quot;</span>
  <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">password</span>) errors.<span class="hljs-property">password</span> = <span class="hljs-string">&quot;Password is required&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">repeatPassword</span>) errors.<span class="hljs-property">repeatPassword</span> = <span class="hljs-string">&quot;Please repeat the password&quot;</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (values.<span class="hljs-property">password</span> != values.<span class="hljs-property">repeatPassword</span>) errors.<span class="hljs-property">repeatPassword</span> = <span class="hljs-string">&quot;Passwords don&#x27;t match&quot;</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">renderErrorMessage</span>(<span class="hljs-params">field</span>) {
  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">FieldErrorMessage</span> <span class="hljs-attr">field</span>=<span class="hljs-string">{field}</span> &gt;</span>{msg =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;error-messge&quot;</span>&gt;</span>{msg}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}<span class="hljs-tag">&lt;/<span class="hljs-name">FieldErrorMessage</span>&gt;</span></span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SignUp</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [{ firstName, lastName, email, password, repeatPassword }, validate, errors, values ]
    = <span class="hljs-title function_">useForm</span>({ <span class="hljs-attr">firstName</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">lastName</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">repeatPassword</span>: <span class="hljs-string">&#x27;&#x27;</span> }, validateForm)

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleSignUp</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> valid = <span class="hljs-title function_">validate</span>()
    <span class="hljs-keyword">if</span> (valid) {
      <span class="hljs-title function_">doSignUp</span>(values)
    }
  }

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;sign-up&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{firstName[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{firstName[0]}</span> /&gt;</span>
      {renderErrorMessage(firstName)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{lastName[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{lastName[0]}</span> /&gt;</span>
      {renderErrorMessage(lastName)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{email[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{email[0]}</span> /&gt;</span>
      {renderErrorMessage(email)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{password[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{password[0]}</span> /&gt;</span>
      {renderErrorMessage(password)}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{repeatPassword[1]}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{repeatPassword[0]}</span> /&gt;</span>
      {renderErrorMessage(repeatPassword)}

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSignUp}</span>&gt;</span>Sign me up! <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>Certainly, this is not the best solution for this validation problem but its, something that works .</p></div></div><div class="Post_related__V0k3K"><h2>Related Posts</h2><ul class="Post_relatedPosts__co9O7"><li><h3><a href="https://rusith.me/blog/testing-react-redux-connected-components-using-jest">Testing Redux Connected React Components Using Jest<small>Mon, Apr 27, 2020</small></a></h3></li><li><h3><a href="https://rusith.me/blog/node-js-service-gateway">A Service Gateway Using NodeJS<small>Thu, Mar 15, 2018</small></a></h3></li><li><h3><a href="https://rusith.me/blog/deploy-app-on-aws-ecs-with-cdk-auto-scaling-and-load-balancing">Deploying an app on AWS ECS with CDK<small>Wed, Feb 15, 2023</small></a></h3></li></ul></div><div id="disqus_thread"></div></div><div class="sbuttons"><a href="https://www.facebook.com/sharer/sharer.php?u=https://rusith.me/blog/react-form-validation-using-custom-hooks" target="_blank" class="sbutton fb" title="Share on Facebook" rel="noreferrer"><img alt="Facebook icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMjAgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMjAgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNzkuMSwyODhsMTQuMi05Mi43aC04OC45di02MC4xYzAtMjUuMywxMi40LTUwLjEsNTIuMi01MC4xaDQwLjRWNi4zYzAsMC0zNi43LTYuMy03MS43LTYuMwoJYy03My4yLDAtMTIxLjEsNDQuNC0xMjEuMSwxMjQuN3Y3MC42SDIyLjlWMjg4aDgxLjR2MjI0aDEwMC4yVjI4OEgyNzkuMXoiLz4KPC9zdmc+Cg=="/></a><a href="https://twitter.com/intent/tweet?text=https://rusith.me/blog/react-form-validation-using-custom-hooks" target="_blank" class="sbutton twitt" title="Share on Twitter" rel="noreferrer"><img alt="Twitter icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00NTkuNCwxNTEuN2MwLjMsNC41LDAuMyw5LjEsMC4zLDEzLjZjMCwxMzguNy0xMDUuNiwyOTguNi0yOTguNiwyOTguNmMtNTkuNSwwLTExNC43LTE3LjItMTYxLjEtNDcuMQoJYzguNCwxLDE2LjYsMS4zLDI1LjMsMS4zYzQ5LjEsMCw5NC4yLTE2LjYsMTMwLjMtNDQuOGMtNDYuMS0xLTg0LjgtMzEuMi05OC4xLTcyLjhjNi41LDEsMTMsMS42LDE5LjgsMS42YzkuNCwwLDE4LjgtMS4zLDI3LjYtMy42CgljLTQ4LjEtOS43LTg0LjEtNTItODQuMS0xMDN2LTEuM2MxNCw3LjgsMzAuMiwxMi43LDQ3LjQsMTMuM2MtMjguMy0xOC44LTQ2LjgtNTEtNDYuOC04Ny40YzAtMTkuNSw1LjItMzcuNCwxNC4zLTUzCglDODcuNCwxMzAuOSwxNjUsMTcyLjUsMjUyLjEsMTc3LjFjLTEuNi03LjgtMi42LTE1LjktMi42LTI0YzAtNTcuOCw0Ni44LTEwNC45LDEwNC45LTEwNC45YzMwLjIsMCw1Ny41LDEyLjcsNzYuNywzMy4xCgljMjMuNy00LjUsNDYuNS0xMy4zLDY2LjYtMjUuM2MtNy44LDI0LjQtMjQuNCw0NC44LTQ2LjEsNTcuOGMyMS4xLTIuMyw0MS42LTguMSw2MC40LTE2LjJDNDk3LjcsMTE4LjMsNDc5LjgsMTM2LjgsNDU5LjQsMTUxLjcKCUw0NTkuNCwxNTEuN3oiLz4KPC9zdmc+Cg=="/></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://rusith.me/blog/react-form-validation-using-custom-hooks&amp;title=&amp;summary=&amp;source=" target="_blank" class="sbutton linkedin" title="Share on Linkedin" rel="noreferrer"><img alt="LinkedIn icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDAuMyw0NDhINy40VjE0OC45aDkyLjlWNDQ4eiBNNTMuOCwxMDguMUMyNC4xLDEwOC4xLDAsODMuNSwwLDUzLjhDMCwyNC4xLDI0LjEsMCw1My44LDAKCWMyOS43LDAsNTMuOCwyNC4xLDUzLjgsNTMuOEMxMDcuNiw4My41LDgzLjUsMTA4LjEsNTMuOCwxMDguMXogTTQ0Ny45LDQ0OGgtOTIuN1YzMDIuNGMwLTM0LjctMC43LTc5LjItNDguMy03OS4yCgljLTQ4LjMsMC01NS43LDM3LjctNTUuNyw3Ni43VjQ0OGgtOTIuOFYxNDguOWg4OS4xdjQwLjhoMS4zYzEyLjQtMjMuNSw0Mi43LTQ4LjMsODcuOS00OC4zYzk0LDAsMTExLjMsNjEuOSwxMTEuMywxNDIuM1Y0NDhINDQ3Ljl6CgkiLz4KPC9zdmc+Cg=="/></a><a target="_blank" class="sbutton mainsbutton"><img alt="Share button" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNTIsMzIwYy0yNS42LDAtNDguOSwxMC02Ni4xLDI2LjRsLTk4LjMtNjEuNWM1LjktMTguOCw1LjktMzkuMSwwLTU3LjhsOTguMy02MS41CglDMzAzLjEsMTgyLDMyNi40LDE5MiwzNTIsMTkyYzUzLDAsOTYtNDMsOTYtOTZTNDA1LDAsMzUyLDBzLTk2LDQzLTk2LDk2YzAsOS44LDEuNSwxOS42LDQuNCwyOC45bC05OC4zLDYxLjUKCUMxNDQuOSwxNzAsMTIxLjYsMTYwLDk2LDE2MGMtNTMsMC05Niw0My05Niw5NnM0Myw5Niw5Niw5NmMyNS42LDAsNDguOS0xMCw2Ni4xLTI2LjRsOTguMyw2MS41Yy0yLjksOS40LTQuNCwxOS4xLTQuNCwyOC45CgljMCw1Myw0Myw5Niw5Niw5NnM5Ni00Myw5Ni05NlM0MDUsMzIwLDM1MiwzMjBMMzUyLDMyMHogTTM1Miw0OGMyNi41LDAsNDgsMjEuNSw0OCw0OHMtMjEuNSw0OC00OCw0OHMtNDgtMjEuNS00OC00OAoJUzMyNS41LDQ4LDM1Miw0OHogTTk2LDMwNGMtMjYuNSwwLTQ4LTIxLjUtNDgtNDhzMjEuNS00OCw0OC00OHM0OCwyMS41LDQ4LDQ4UzEyMi41LDMwNCw5NiwzMDR6IE0zNTIsNDY0Yy0yNi41LDAtNDgtMjEuNS00OC00OAoJczIxLjUtNDgsNDgtNDhzNDgsMjEuNSw0OCw0OFMzNzguNSw0NjQsMzUyLDQ2NHoiLz4KPC9zdmc+Cg=="/></a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"fileName":"2019-06-24-react-form-validation-using-custom-hooks.md","fullPath":"/home/runner/work/rusith.me/rusith.me/modules/blog/posts/2019-06-24-react-form-validation-using-custom-hooks.md","title":"React Form Validation Using Custom Hooks","tags":["web","programming","react","javascript"],"comments":true,"description":"Form validation in react is bit tricky. This is an attempt to make it bit easy by using react hooks. here we write few custom hooks to create a re-usable validation logic that can be used in any form.","dateCreated":"Mon Jun 24 2019 00:00:00 GMT+0000 (Coordinated Universal Time)","dateModified":"Mon Jun 24 2019 00:00:00 GMT+0000 (Coordinated Universal Time)","datePublished":"Mon Jun 24 2019 00:00:00 GMT+0000 (Coordinated Universal Time)","dependencies":"React","about":"A way to create a re-usable form validation logic using React hooks","path":"/blog/react-form-validation-using-custom-hooks","oldPath":"/2019/06/24/react-form-validation-using-custom-hooks","dateCreatedFormatted":"Mon, Jun 24, 2019","fullUrl":"https://rusith.me/blog/react-form-validation-using-custom-hooks","fileContent":"---\ntitle: React Form Validation Using Custom Hooks\ntags: web programming react javascript\ncomments: true\ndescription: Form validation in react is bit tricky. This is an attempt to make it bit easy by using react hooks. here we write few custom hooks to create a re-usable validation logic that can be used in any form.\ndateCreated: 2019-06-24\ndateModified: 2019-06-24\ndatePublished: 2019-06-24\ndependencies: React\nabout: A way to create a re-usable form validation logic using React hooks\npath: /react-form-validation-using-custom-hooks\noldPath: /2019/06/24/react-form-validation-using-custom-hooks\n---\nValidation!\n\nI have this sign-up form here that I want to validate. What do I need to validate? \nFirst, firstName and lastName should be entered! and the email should be a valid one. and the passwords should match and should not be empty.\nOkay, a typical form with typical validation scenarios. the best example in the world (maybe not)\n\nHere you have the source code for my sweet little simple sign up page. no bullshit at all here. I have removed everything and included only the things that are necessary.\n\n```jsx\nimport React, { useState } from 'react'\n\n\nfunction doSignUp(userInfo) {\n  // Go to the server || dispatch an action\n}\n\nexport default function SignUp() {\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [repeatPassword, setRepeatPassword] = useState('')\n\n\n  function handleSignUp() {\n    doSignUp({ firstName, lastName, email, password })\n  }\n\n  return (\n    \u003cdiv className=\"sign-up\"\u003e\n      \u003cinput onChange={e =\u003e setFirstName(e.target.value)} value={firstName} /\u003e\n      \u003cinput onChange={e =\u003e setLastName(e.target.value)} value={lastName} /\u003e\n      \u003cinput onChange={e =\u003e setEmail(e.target.value)} value={email} /\u003e\n      \u003cinput type=\"password\" onChange={e =\u003e setPassword(e.target.value)} value={password} /\u003e\n      \u003cinput type=\"password\" onChange={e =\u003e setRepeatPassword(e.target.value)} value={repeatPassword} /\u003e\n\n      \u003cbutton onClick={handleSignUp}\u003eSign me up! \u003c/button\u003e\n    \u003c/div\u003e\n  )\n}\n```\nI have avoided the form tags and stuff for the sake of simplicity.\n\nIf you press the button on this page it will go to the signUp process and do the thing. If you haven't done any back end validation, you are screwed up.(always do back end validation. never trust your user (yourself in this case)). We don't want this to happen. so we validate and show sweet little messages in the UI.\n\n```jsx\nimport React, { useState } from 'react'\n\n\nfunction doSignUp(userInfo) {\n  // Go to the server || dispatch an action\n}\n\nfunction validateEmail(email) {\n    let re = /^(([^\u003c\u003e()\\[\\]\\\\.,;:\\s@\"]+(\\.[^\u003c\u003e()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n}\n\nfunction validateForm(values) {\n  const errors = {}\n  if (!values.firstName) errors.firstName = \"First name is required\" // pretty standard error messages. cuz im too lazy to think\n  if (!values.lastName) errors.lastName = \"Last name is required\"\n  if (!values.email) errors.email = \"Email address is required\"\n  else if (!validateEmail(values.email)) errors.email = \"Not a valid email address\"\n  if (!values.password) errors.password = \"Password is required\"\n  else if (!values.repeatPassword) errors.repeatPassword = \"Please repeat the password\"\n  else if (!values.password != values.repeatPassword) errors.repeatPassword = \"Passwords don't match\"\n\n  return errors\n}\n\nexport default function SignUp() {\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [repeatPassword, setRepeatPassword] = useState('')\n  const [errors, setErrors] = useState({})\n\n\n  function handleSignUp() {\n    const errors = validateForm({ firstName, lastName, email, password, repeatPassword })\n    setErrors(errors)\n    if (!Object.keys(errors).length) {\n      doSignUp({ firstName, lastName, email, password })\n    }\n  }\n\n  return (\n    \u003cdiv className=\"sign-up\"\u003e\n      \u003cinput onChange={e =\u003e setFirstName(e.target.value)} value={firstName} /\u003e\n      {errors.firstName \u0026\u0026 \u003cp\u003e{errors.firstName}\u003c/p\u003e}\n      \u003cinput onChange={e =\u003e setLastName(e.target.value)} value={lastName} /\u003e\n      {errors.lastName \u0026\u0026 \u003cp\u003e{errors.lastName}\u003c/p\u003e}\n      \u003cinput onChange={e =\u003e setEmail(e.target.value)} value={email} /\u003e\n      {errors.email \u0026\u0026 \u003cp\u003e{errors.email}\u003c/p\u003e}\n      \u003cinput type=\"password\" onChange={e =\u003e setPassword(e.target.value)} value={password} /\u003e\n      {errors.password \u0026\u0026 \u003cp\u003e{errors.password}\u003c/p\u003e}\n      \u003cinput type=\"password\" onChange={e =\u003e setRepeatPassword(e.target.value)} value={repeatPassword} /\u003e\n      {errors.repeatPassword \u0026\u0026 \u003cp\u003e{errors.repeatPassword}\u003c/p\u003e}\n\n      \u003cbutton onClick={handleSignUp}\u003eSign me up! \u003c/button\u003e\n    \u003c/div\u003e\n  )\n}\n```\n\nNow if you press the button it won't do anything and show messages below the inputs. good.\nyou could use something like Formik or some other alternative way to do this validation. But I don't want to load any external library just to validate a few little forms in my app. let's do this ourselves.\n\nOkay, let's see what we can do to improve this code to make it more modular and readable.\n\nYou can see the `onChange` handlers in the input have the same repeating pattern. can't we extract it out and reuse that logic?\nLet's do that now.\n\nLet's create a hook that will get the value from an event and set it\n\n```jsx\n\nfunction useInputValue(initialValue) {\n  const [value, setValue] = useState(initialValue)\n\n  function retrieveValue(event) {\n    setValue(event.target.value)\n  }\n  return [value, retrieveValue]\n}\n\n\nexport default function SignUp() {\n  const [firstName, setFirstName] = useInputValue('')\n  const [lastName, setLastName] = useInputValue('')\n  const [email, setEmail] = useInputValue('')\n  const [password, setPassword] = useInputValue('')\n  const [repeatPassword, setRepeatPassword] = useInputValue('')\n  const [errors, setErrors] = useState({})\n\n\n  function handleSignUp() {\n    const errors = validateForm({ firstName, lastName, email, password, repeatPassword })\n    setErrors(errors)\n    if (!Object.keys(errors).length) {\n      doSignUp({ firstName, lastName, email, password })\n    }\n  }\n\n  return (\n    \u003cdiv className=\"sign-up\"\u003e\n      \u003cinput onChange={setFirstName} value={firstName} /\u003e\n      {errors.firstName \u0026\u0026 \u003cp\u003e{errors.firstName}\u003c/p\u003e}\n      \u003cinput onChange={setLastName} value={lastName} /\u003e\n      {errors.lastName \u0026\u0026 \u003cp\u003e{errors.lastName}\u003c/p\u003e}\n      \u003cinput onChange={setEmail} value={email} /\u003e\n      {errors.email \u0026\u0026 \u003cp\u003e{errors.email}\u003c/p\u003e}\n      \u003cinput type=\"password\" onChange={setPassword} value={password} /\u003e\n      {errors.password \u0026\u0026 \u003cp\u003e{errors.password}\u003c/p\u003e}\n      \u003cinput type=\"password\" onChange={setRepeatPassword} value={repeatPassword} /\u003e\n      {errors.repeatPassword \u0026\u0026 \u003cp\u003e{errors.repeatPassword}\u003c/p\u003e}\n\n      \u003cbutton onClick={handleSignUp}\u003eSign me up! \u003c/button\u003e\n    \u003c/div\u003e\n  )\n}\n```\nOkay so far so good. let's now try to remove the repeated state declarations and move them somewhere else. we can create another hook for that.\nThat will look something like below. This is the main hook that we are going to use to create the form. this includes all the logic to run validations when necessary.\n\n```jsx\nfunction useForm(initialValues, validateForm) {\n  if (!initialValues) {\n    throw Error('Initial values are required')\n  }\n\n  const values = {}\n  const valuesWithSetters = {}\n  const [errors, setErrors ] = useState({})\n  const keys =  Object.keys(initialValues)\n\n  for (let i = 0, l = keys.length; i \u003c l; i ++) {\n    const key = keys[i]\n    const [val, setVal] = useInputValue(initialValues[key])\n    const setValWrapper = (...pars) =\u003e {\n      if (errors[key]) {\n        const er = {...errors}\n        delete er[key]\n        setErrors(er)\n      }\n      setVal(...pars)\n    }\n    valuesWithSetters[key] = [val, setValWrapper, () =\u003e errors[key]]\n    values[key] = val\n  }\n\n  function validate() {\n    const errorObject = {}\n    validateForm(errorObject, values)\n    setErrors(errorObject)\n    return Object.keys(errorObject).length \u003c 1\n  }\n\n  return  [valuesWithSetters, validate, errors, values ]\n}\n```\n\nOkay, what are we doing here? Here we pass a set of initialValue and this hook will create a set of internal states for each key in this object with its value. and what the `validate` function does is it will call the validate function that we provide to the hook and set the error messages automatically.\n\nLet's use this in our code. We will also write a Component that will help us to display the error messages. we will also have to change the `validateForm` function to fit with our hook\n\n```jsx\nfunction validateForm(errors, values) {\n  if (!values.firstName) errors.firstName = \"First name is required\" // pretty standard error messages. cuz im too lazy to think\n  if (!values.lastName) errors.lastName = \"Last name is required\"\n  if (!values.email) errors.email = \"Email address is required\"\n  else if (!validateEmail(values.email)) errors.email = \"Not a valid email address\"\n  if (!values.password) errors.password = \"Password is required\"\n  else if (!values.repeatPassword) errors.repeatPassword = \"Please repeat the password\"\n  else if (values.password != values.repeatPassword) errors.repeatPassword = \"Passwords don't match\"\n}\n\nfunction renderErrorMessage(field) {\n  return \u003cFieldErrorMessage field={field} \u003e{msg =\u003e \u003cp className=\"error-messge\"\u003e{msg}\u003c/p\u003e}\u003c/FieldErrorMessage\u003e\n}\n\nexport default function SignUp() {\n  const [{ firstName, lastName, email, password, repeatPassword }, validate, errors, values ]\n    = useForm({ firstName: '', lastName: '', email: '', password: '', repeatPassword: '' }, validateForm)\n\n  function handleSignUp() {\n    const valid = validate()\n    if (valid) {\n      doSignUp(values)\n    }\n  }\n\n  return (\n    \u003cdiv className=\"sign-up\"\u003e\n      \u003cinput onChange={firstName[1]} value={firstName[0]} /\u003e\n      {renderErrorMessage(firstName)}\n      \u003cinput onChange={lastName[1]} value={lastName[0]} /\u003e\n      {renderErrorMessage(lastName)}\n      \u003cinput onChange={email[1]} value={email[0]} /\u003e\n      {renderErrorMessage(email)}\n      \u003cinput type=\"password\" onChange={password[1]} value={password[0]} /\u003e\n      {renderErrorMessage(password)}\n      \u003cinput type=\"password\" onChange={repeatPassword[1]} value={repeatPassword[0]} /\u003e\n      {renderErrorMessage(repeatPassword)}\n\n      \u003cbutton onClick={handleSignUp}\u003eSign me up! \u003c/button\u003e\n    \u003c/div\u003e\n  )\n}\n```\n\nOkay. Now the component looks a bit cleaner. now we can move the hooks that we created into another file and we can also move the helper component (`FieldErrorMessage`) to a separate file so we can use it in other components too.\n\nLet's see how we can re-use these things to create a simple login form.\n\n```jsx\nimport React, { useState } from 'react'\nimport { useForm } from './hooks'\nimport FieldErrorMessage from './FieldErrorMessage'\n\n\nfunction doLogin(credentials) {\n  // Go to the server || dispatch an action\n}\n\nfunction validateForm(errors, values) {\n  if (!values.username) errors.username = \"Username is required\" // pretty standard error messages. cuz im too lazy to think\n  if (!values.password) errors.password = \"Password is required\"\n}\n\nfunction renderErrorMessage(field) {\n  return \u003cFieldErrorMessage field={field} \u003e{msg =\u003e \u003cp className=\"error-messge\"\u003e{msg}\u003c/p\u003e}\u003c/FieldErrorMessage\u003e\n}\n\nexport default function SignUp() {\n  const [{ username, password }, validate, errors, values ]\n    = useForm({ username: '', password: '' }, validateForm)\n\n  function handleSignUp() {\n    const valid = validate()\n    if (valid) {\n      doLogin(values)\n    }\n  }\n\n  return (\n    \u003cdiv className=\"sign-up\"\u003e\n      \u003cinput onChange={username[1]} value={username[0]} /\u003e\n      {renderErrorMessage(username)}\n      \u003cinput type=\"password\" onChange={password[1]} value={password[0]} /\u003e\n      {renderErrorMessage(password)}\n\n      \u003cbutton onClick={handleSignUp}\u003eSign me in! \u003c/button\u003e\n    \u003c/div\u003e\n  )\n}\n```\n\nAnd this is our sign up code using hooks imported \n\n```jsx\nimport React, { useState } from 'react'\nimport { useForm } from './hooks'\nimport FieldErrorMessage from './FieldErrorMessage'\n\n\nfunction doSignUp(userInfo) {\n  // Go to the server || dispatch an action\n}\n\nfunction validateEmail(email) {\n    let re = /^(([^\u003c\u003e()\\[\\]\\\\.,;:\\s@\"]+(\\.[^\u003c\u003e()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n}\n\nfunction validateForm(errors, values) {\n  if (!values.firstName) errors.firstName = \"First name is required\" // pretty standard error messages. cuz im too lazy to think\n  if (!values.lastName) errors.lastName = \"Last name is required\"\n  if (!values.email) errors.email = \"Email address is required\"\n  else if (!validateEmail(values.email)) errors.email = \"Not a valid email address\"\n  if (!values.password) errors.password = \"Password is required\"\n  else if (!values.repeatPassword) errors.repeatPassword = \"Please repeat the password\"\n  else if (values.password != values.repeatPassword) errors.repeatPassword = \"Passwords don't match\"\n}\n\nfunction renderErrorMessage(field) {\n  return \u003cFieldErrorMessage field={field} \u003e{msg =\u003e \u003cp className=\"error-messge\"\u003e{msg}\u003c/p\u003e}\u003c/FieldErrorMessage\u003e\n}\n\nexport default function SignUp() {\n  const [{ firstName, lastName, email, password, repeatPassword }, validate, errors, values ]\n    = useForm({ firstName: '', lastName: '', email: '', password: '', repeatPassword: '' }, validateForm)\n\n  function handleSignUp() {\n    const valid = validate()\n    if (valid) {\n      doSignUp(values)\n    }\n  }\n\n  return (\n    \u003cdiv className=\"sign-up\"\u003e\n      \u003cinput onChange={firstName[1]} value={firstName[0]} /\u003e\n      {renderErrorMessage(firstName)}\n      \u003cinput onChange={lastName[1]} value={lastName[0]} /\u003e\n      {renderErrorMessage(lastName)}\n      \u003cinput onChange={email[1]} value={email[0]} /\u003e\n      {renderErrorMessage(email)}\n      \u003cinput type=\"password\" onChange={password[1]} value={password[0]} /\u003e\n      {renderErrorMessage(password)}\n      \u003cinput type=\"password\" onChange={repeatPassword[1]} value={repeatPassword[0]} /\u003e\n      {renderErrorMessage(repeatPassword)}\n\n      \u003cbutton onClick={handleSignUp}\u003eSign me up! \u003c/button\u003e\n    \u003c/div\u003e\n  )\n}\n```\n\nCertainly, this is not the best solution for this validation problem but its, something that works .","parsedContent":"\u003cp\u003eValidation!\u003c/p\u003e\n\u003cp\u003eI have this sign-up form here that I want to validate. What do I need to validate? \nFirst, firstName and lastName should be entered! and the email should be a valid one. and the passwords should match and should not be empty.\nOkay, a typical form with typical validation scenarios. the best example in the world (maybe not)\u003c/p\u003e\n\u003cp\u003eHere you have the source code for my sweet little simple sign up page. no bullshit at all here. I have removed everything and included only the things that are necessary.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs jsx language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e, { useState } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edoSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003euserInfo\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// Go to the server || dispatch an action\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [firstName, setFirstName] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [lastName, setLastName] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [email, setEmail] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [password, setPassword] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [repeatPassword, setRepeatPassword] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n\n\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-title function_\"\u003edoSignUp\u003c/span\u003e({ firstName, lastName, email, password })\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;sign-up\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setFirstName(e.target.value)} value={firstName} /\u0026gt;\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setLastName(e.target.value)} value={lastName} /\u0026gt;\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setEmail(e.target.value)} value={email} /\u0026gt;\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setPassword(e.target.value)} value={password} /\u0026gt;\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setRepeatPassword(e.target.value)} value={repeatPassword} /\u0026gt;\n\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{handleSignUp}\u003c/span\u003e\u0026gt;\u003c/span\u003eSign me up! \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI have avoided the form tags and stuff for the sake of simplicity.\u003c/p\u003e\n\u003cp\u003eIf you press the button on this page it will go to the signUp process and do the thing. If you haven't done any back end validation, you are screwed up.(always do back end validation. never trust your user (yourself in this case)). We don't want this to happen. so we validate and show sweet little messages in the UI.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs jsx language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e, { useState } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edoSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003euserInfo\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// Go to the server || dispatch an action\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evalidateEmail\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eemail\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e re = \u003cspan class=\"hljs-regexp\"\u003e/^(([^\u0026lt;\u0026gt;()\\[\\]\\\\.,;:\\s@\u0026quot;]+(\\.[^\u0026lt;\u0026gt;()\\[\\]\\\\.,;:\\s@\u0026quot;]+)*)|(\u0026quot;.+\u0026quot;))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e re.\u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eString\u003c/span\u003e(email).\u003cspan class=\"hljs-title function_\"\u003etoLowerCase\u003c/span\u003e());\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evalidateForm\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003evalues\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e errors = {}\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003efirstName\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003efirstName\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;First name is required\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// pretty standard error messages. cuz im too lazy to think\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003elastName\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003elastName\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Last name is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Email address is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-title function_\"\u003evalidateEmail\u003c/span\u003e(values.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e)) errors.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Not a valid email address\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Password is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Please repeat the password\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e != values.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Passwords don\u0026#x27;t match\u0026quot;\u003c/span\u003e\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e errors\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [firstName, setFirstName] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [lastName, setLastName] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [email, setEmail] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [password, setPassword] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [repeatPassword, setRepeatPassword] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [errors, setErrors] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e({})\n\n\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e errors = \u003cspan class=\"hljs-title function_\"\u003evalidateForm\u003c/span\u003e({ firstName, lastName, email, password, repeatPassword })\n    \u003cspan class=\"hljs-title function_\"\u003esetErrors\u003c/span\u003e(errors)\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ekeys\u003c/span\u003e(errors).\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_\"\u003edoSignUp\u003c/span\u003e({ firstName, lastName, email, password })\n    }\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;sign-up\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setFirstName(e.target.value)} value={firstName} /\u0026gt;\n      {errors.firstName \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.firstName}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setLastName(e.target.value)} value={lastName} /\u0026gt;\n      {errors.lastName \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.lastName}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setEmail(e.target.value)} value={email} /\u0026gt;\n      {errors.email \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.email}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setPassword(e.target.value)} value={password} /\u0026gt;\n      {errors.password \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.password}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{e\u003c/span\u003e =\u0026gt;\u003c/span\u003e setRepeatPassword(e.target.value)} value={repeatPassword} /\u0026gt;\n      {errors.repeatPassword \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.repeatPassword}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{handleSignUp}\u003c/span\u003e\u0026gt;\u003c/span\u003eSign me up! \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow if you press the button it won't do anything and show messages below the inputs. good.\nyou could use something like Formik or some other alternative way to do this validation. But I don't want to load any external library just to validate a few little forms in my app. let's do this ourselves.\u003c/p\u003e\n\u003cp\u003eOkay, let's see what we can do to improve this code to make it more modular and readable.\u003c/p\u003e\n\u003cp\u003eYou can see the \u003ccode\u003eonChange\u003c/code\u003e handlers in the input have the same repeating pattern. can't we extract it out and reuse that logic?\nLet's do that now.\u003c/p\u003e\n\u003cp\u003eLet's create a hook that will get the value from an event and set it\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs jsx language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003euseInputValue\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003einitialValue\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [value, setValue] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(initialValue)\n\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eretrieveValue\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) {\n    \u003cspan class=\"hljs-title function_\"\u003esetValue\u003c/span\u003e(event.\u003cspan class=\"hljs-property\"\u003etarget\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e)\n  }\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e [value, retrieveValue]\n}\n\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [firstName, setFirstName] = \u003cspan class=\"hljs-title function_\"\u003euseInputValue\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [lastName, setLastName] = \u003cspan class=\"hljs-title function_\"\u003euseInputValue\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [email, setEmail] = \u003cspan class=\"hljs-title function_\"\u003euseInputValue\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [password, setPassword] = \u003cspan class=\"hljs-title function_\"\u003euseInputValue\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [repeatPassword, setRepeatPassword] = \u003cspan class=\"hljs-title function_\"\u003euseInputValue\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e)\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [errors, setErrors] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e({})\n\n\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e errors = \u003cspan class=\"hljs-title function_\"\u003evalidateForm\u003c/span\u003e({ firstName, lastName, email, password, repeatPassword })\n    \u003cspan class=\"hljs-title function_\"\u003esetErrors\u003c/span\u003e(errors)\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ekeys\u003c/span\u003e(errors).\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_\"\u003edoSignUp\u003c/span\u003e({ firstName, lastName, email, password })\n    }\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;sign-up\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{setFirstName}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{firstName}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {errors.firstName \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.firstName}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{setLastName}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{lastName}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {errors.lastName \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.lastName}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{setEmail}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{email}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {errors.email \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.email}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{setPassword}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{password}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {errors.password \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.password}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{setRepeatPassword}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{repeatPassword}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {errors.repeatPassword \u0026amp;\u0026amp; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e{errors.repeatPassword}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\n\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{handleSignUp}\u003c/span\u003e\u0026gt;\u003c/span\u003eSign me up! \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOkay so far so good. let's now try to remove the repeated state declarations and move them somewhere else. we can create another hook for that.\nThat will look something like below. This is the main hook that we are going to use to create the form. this includes all the logic to run validations when necessary.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs jsx language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003euseForm\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003einitialValues, validateForm\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!initialValues) {\n    \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Initial values are required\u0026#x27;\u003c/span\u003e)\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e values = {}\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e valuesWithSetters = {}\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [errors, setErrors ] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e({})\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e keys =  \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ekeys\u003c/span\u003e(initialValues)\n\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, l = keys.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e; i \u0026lt; l; i ++) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e key = keys[i]\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [val, setVal] = \u003cspan class=\"hljs-title function_\"\u003euseInputValue\u003c/span\u003e(initialValues[key])\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esetValWrapper\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e...pars\u003c/span\u003e) =\u0026gt; {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (errors[key]) {\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e er = {...errors}\n        \u003cspan class=\"hljs-keyword\"\u003edelete\u003c/span\u003e er[key]\n        \u003cspan class=\"hljs-title function_\"\u003esetErrors\u003c/span\u003e(er)\n      }\n      \u003cspan class=\"hljs-title function_\"\u003esetVal\u003c/span\u003e(...pars)\n    }\n    valuesWithSetters[key] = [val, setValWrapper, \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e errors[key]]\n    values[key] = val\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evalidate\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e errorObject = {}\n    \u003cspan class=\"hljs-title function_\"\u003evalidateForm\u003c/span\u003e(errorObject, values)\n    \u003cspan class=\"hljs-title function_\"\u003esetErrors\u003c/span\u003e(errorObject)\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ekeys\u003c/span\u003e(errorObject).\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e \u0026lt; \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e  [valuesWithSetters, validate, errors, values ]\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOkay, what are we doing here? Here we pass a set of initialValue and this hook will create a set of internal states for each key in this object with its value. and what the \u003ccode\u003evalidate\u003c/code\u003e function does is it will call the validate function that we provide to the hook and set the error messages automatically.\u003c/p\u003e\n\u003cp\u003eLet's use this in our code. We will also write a Component that will help us to display the error messages. we will also have to change the \u003ccode\u003evalidateForm\u003c/code\u003e function to fit with our hook\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs jsx language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evalidateForm\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eerrors, values\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003efirstName\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003efirstName\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;First name is required\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// pretty standard error messages. cuz im too lazy to think\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003elastName\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003elastName\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Last name is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Email address is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-title function_\"\u003evalidateEmail\u003c/span\u003e(values.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e)) errors.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Not a valid email address\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Password is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Please repeat the password\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (values.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e != values.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Passwords don\u0026#x27;t match\u0026quot;\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erenderErrorMessage\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efield\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eFieldErrorMessage\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003efield\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field}\u003c/span\u003e \u0026gt;\u003c/span\u003e{msg =\u0026gt; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;error-messge\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e{msg}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eFieldErrorMessage\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [{ firstName, lastName, email, password, repeatPassword }, validate, errors, values ]\n    = \u003cspan class=\"hljs-title function_\"\u003euseForm\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efirstName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003elastName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003eemail\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003epassword\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003erepeatPassword\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e }, validateForm)\n\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e valid = \u003cspan class=\"hljs-title function_\"\u003evalidate\u003c/span\u003e()\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (valid) {\n      \u003cspan class=\"hljs-title function_\"\u003edoSignUp\u003c/span\u003e(values)\n    }\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;sign-up\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{firstName[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{firstName[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(firstName)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{lastName[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{lastName[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(lastName)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{email[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{email[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(email)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{password[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{password[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(password)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{repeatPassword[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{repeatPassword[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(repeatPassword)}\n\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{handleSignUp}\u003c/span\u003e\u0026gt;\u003c/span\u003eSign me up! \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOkay. Now the component looks a bit cleaner. now we can move the hooks that we created into another file and we can also move the helper component (\u003ccode\u003eFieldErrorMessage\u003c/code\u003e) to a separate file so we can use it in other components too.\u003c/p\u003e\n\u003cp\u003eLet's see how we can re-use these things to create a simple login form.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs jsx language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e, { useState } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useForm } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./hooks\u0026#x27;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFieldErrorMessage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./FieldErrorMessage\u0026#x27;\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edoLogin\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ecredentials\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// Go to the server || dispatch an action\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evalidateForm\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eerrors, values\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003eusername\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003eusername\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Username is required\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// pretty standard error messages. cuz im too lazy to think\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Password is required\u0026quot;\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erenderErrorMessage\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efield\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eFieldErrorMessage\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003efield\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field}\u003c/span\u003e \u0026gt;\u003c/span\u003e{msg =\u0026gt; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;error-messge\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e{msg}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eFieldErrorMessage\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [{ username, password }, validate, errors, values ]\n    = \u003cspan class=\"hljs-title function_\"\u003euseForm\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003eusername\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003epassword\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e }, validateForm)\n\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e valid = \u003cspan class=\"hljs-title function_\"\u003evalidate\u003c/span\u003e()\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (valid) {\n      \u003cspan class=\"hljs-title function_\"\u003edoLogin\u003c/span\u003e(values)\n    }\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;sign-up\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{username[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{username[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(username)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{password[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{password[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(password)}\n\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{handleSignUp}\u003c/span\u003e\u0026gt;\u003c/span\u003eSign me in! \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd this is our sign up code using hooks imported \u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs jsx language-jsx\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e, { useState } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;react\u0026#x27;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { useForm } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./hooks\u0026#x27;\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eFieldErrorMessage\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;./FieldErrorMessage\u0026#x27;\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edoSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003euserInfo\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// Go to the server || dispatch an action\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evalidateEmail\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eemail\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e re = \u003cspan class=\"hljs-regexp\"\u003e/^(([^\u0026lt;\u0026gt;()\\[\\]\\\\.,;:\\s@\u0026quot;]+(\\.[^\u0026lt;\u0026gt;()\\[\\]\\\\.,;:\\s@\u0026quot;]+)*)|(\u0026quot;.+\u0026quot;))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\u003c/span\u003e;\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e re.\u003cspan class=\"hljs-title function_\"\u003etest\u003c/span\u003e(\u003cspan class=\"hljs-title class_\"\u003eString\u003c/span\u003e(email).\u003cspan class=\"hljs-title function_\"\u003etoLowerCase\u003c/span\u003e());\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003evalidateForm\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eerrors, values\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003efirstName\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003efirstName\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;First name is required\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// pretty standard error messages. cuz im too lazy to think\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003elastName\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003elastName\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Last name is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Email address is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-title function_\"\u003evalidateEmail\u003c/span\u003e(values.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e)) errors.\u003cspan class=\"hljs-property\"\u003eemail\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Not a valid email address\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Password is required\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!values.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Please repeat the password\u0026quot;\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (values.\u003cspan class=\"hljs-property\"\u003epassword\u003c/span\u003e != values.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e) errors.\u003cspan class=\"hljs-property\"\u003erepeatPassword\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Passwords don\u0026#x27;t match\u0026quot;\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erenderErrorMessage\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efield\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eFieldErrorMessage\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003efield\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{field}\u003c/span\u003e \u0026gt;\u003c/span\u003e{msg =\u0026gt; \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;error-messge\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e{msg}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ep\u003c/span\u003e\u0026gt;\u003c/span\u003e}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eFieldErrorMessage\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [{ firstName, lastName, email, password, repeatPassword }, validate, errors, values ]\n    = \u003cspan class=\"hljs-title function_\"\u003euseForm\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003efirstName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003elastName\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003eemail\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003epassword\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003erepeatPassword\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;\u0026#x27;\u003c/span\u003e }, validateForm)\n\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ehandleSignUp\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e valid = \u003cspan class=\"hljs-title function_\"\u003evalidate\u003c/span\u003e()\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (valid) {\n      \u003cspan class=\"hljs-title function_\"\u003edoSignUp\u003c/span\u003e(values)\n    }\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n    \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eclassName\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;sign-up\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{firstName[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{firstName[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(firstName)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{lastName[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{lastName[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(lastName)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{email[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{email[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(email)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{password[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{password[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(password)}\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003einput\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;password\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonChange\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{repeatPassword[1]}\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003evalue\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{repeatPassword[0]}\u003c/span\u003e /\u0026gt;\u003c/span\u003e\n      {renderErrorMessage(repeatPassword)}\n\n      \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eonClick\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{handleSignUp}\u003c/span\u003e\u0026gt;\u003c/span\u003eSign me up! \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/span\u003e\n  )\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eCertainly, this is not the best solution for this validation problem but its, something that works .\u003c/p\u003e"},"page":"Post","topTags":["programming","aws","web","machineLearning","react","javascript","dataScience","typescript","r","csharp"],"relatedPosts":[{"title":"Testing Redux Connected React Components Using Jest","tags":["programming","javascript","react","redux","testing","jest"],"fullUrl":"https://rusith.me/blog/testing-react-redux-connected-components-using-jest","date":"Mon, Apr 27, 2020","description":"Testing React components connected to a Redux store using Jest and React Testing Library.","banner":"/post-data/2020-04-27-testing-redux-connect/banner.png"},{"title":"A Service Gateway Using NodeJS","tags":["programming","javascript","micro-service","web"],"fullUrl":"https://rusith.me/blog/node-js-service-gateway","date":"Thu, Mar 15, 2018","description":"In this post I am writing a simple and minimal service gateway using JavaScript and NodeJS which can handle authentication , authorization.","banner":null},{"title":"Deploying an app on AWS ECS with CDK","tags":["programming","nextJS","react","aws","ecs","typescript","cdk","devops"],"fullUrl":"https://rusith.me/blog/deploy-app-on-aws-ecs-with-cdk-auto-scaling-and-load-balancing","date":"Wed, Feb 15, 2023","description":"How to deploy an application on AWS ECS with load-balancing and auto-scaling using CDK by writing the CDK code in TypeScript","banner":"/post-data/2023-02-15-deploying-react-app-on-ecs/banner.png"}]},"__N_SSG":true},"page":"/[[...path]]","query":{"path":["blog","react-form-validation-using-custom-hooks"]},"buildId":"PaoTT2YDvwYY_jbobaNoC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>