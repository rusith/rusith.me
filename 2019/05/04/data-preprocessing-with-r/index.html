<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link href="https://gmpg.org/xfn/11" rel="profile"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-5GDZWWBRFX"></script><script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-5GDZWWBRFX');
                </script><link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://rusith.me/icons/favicon-144-image.png"/><link rel="shortcut icon" href="https://rusith.me/favicon.ico"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/><meta property="og:image" content="https://rusith.me/images/banner/default.jpg"/><meta property="twitter:creator" content="@rusith_"/><meta name="robots" content="index,follow"/><title>Data Pre-Processing With R</title><meta name="description" content="Before feeding our dataSet into a machine learning algorithm it&#x27;s absolutely necessary to pre-process the data where we should clean and re-shape our data to get the maximum performance from our machine learning models. In this post, I will go through a set of procedures which you can use to pre-process a data set."/><link rel="canonical" href="https://rusith.me/blog/data-preprocessing-with-r"/><meta property="og:title" content="Data Pre-Processing With R"/><meta property="og:url" content="https://rusith.me/blog/data-preprocessing-with-r"/><meta property="og:description" content="Before feeding our dataSet into a machine learning algorithm it&#x27;s absolutely necessary to pre-process the data where we should clean and re-shape our data to get the maximum performance from our machine learning models. In this post, I will go through a set of procedures which you can use to pre-process a data set."/><meta property="og:site_name" content="Rusith&#x27;s blog"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="blog"/><meta property="twitter:description" content="Basic introduction on data pre-processing for machine learning using R"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Data Pre-Processing With R"/><meta name="twitter:image" content="https://rusith.me/images/banner/default.jpg"/><meta name="twitter:site" content="@rusith_"/><script type="application/ld+json">{"@type":"BlogPosting","@context":"https://schema.org","headline":"Data Pre-Processing With R","author":{"@type":"Person","name":"Shanaka Rusith","url":"https://rusith.me/about"},"keywords":"machineLearning,dataScience,r","url":"https://rusith.me/blog/data-preprocessing-with-r","description":"Before feeding our dataSet into a machine learning algorithm it's absolutely necessary to pre-process the data where we should clean and re-shape our data to get the maximum performance from our machine learning models. In this post, I will go through a set of procedures which you can use to pre-process a data set.","copyrightHolder":{"@type":"Person","name":"Shanaka Rusith","url":"https://rusith.me/about"},"copyrightYear":"2021","mainEntityOfPage":{"@type":"WebPage","@id":"https://rusith.me"},"publisher":{"@type":"Organization","name":"Shanaka Rusith","url":"https://rusith.me/about","logo":{"@type":"ImageObject","url":"https://rusith.me/images/rusith/picture.jpg"}},"image":"https://rusith.me/images/banner/default.jpg","about":"Basic introduction on data pre-processing for machine learning using R","datePublished":"Sat May 04 2019 00:00:00 GMT+0000 (Coordinated Universal Time)","dateModified":"Sat May 04 2019 00:00:00 GMT+0000 (Coordinated Universal Time)"}</script><meta name="next-head-count" content="27"/><link rel="preload" href="/_next/static/css/7220332d6168fb06.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7220332d6168fb06.css" data-n-g=""/><link rel="preload" href="/_next/static/css/0662676664ee362f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0662676664ee362f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-05c0aa1e498fcb8c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f89480c30d9a5d02.js" defer=""></script><script src="/_next/static/chunks/947-277c090e7d6803d0.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...path%5D%5D-d5cf2aa81a49e144.js" defer=""></script><script src="/_next/static/PaoTT2YDvwYY_jbobaNoC/_buildManifest.js" defer=""></script><script src="/_next/static/PaoTT2YDvwYY_jbobaNoC/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="Sidebar_r__IEuUi"><div class="Sidebar_sticky__RE23V"><div class="Sidebar_about__s_kM6"><h2><a href="/">Rusith.me</a></h2><div class="Sidebar_socialButtons__XcH6p"><a href="https://www.linkedin.com/in/shanaka-rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="LinkedIn icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTYsMzJIMzEuOUMxNC4zLDMyLDAsNDYuNSwwLDY0LjN2MzgzLjRDMCw0NjUuNSwxNC4zLDQ4MCwzMS45LDQ4MEg0MTZjMTcuNiwwLDMyLTE0LjUsMzItMzIuM1Y2NC4zCglDNDQ4LDQ2LjUsNDMzLjYsMzIsNDE2LDMyeiBNMTM1LjQsNDE2SDY5VjIwMi4yaDY2LjVWNDE2SDEzNS40eiBNMTAyLjIsMTczYy0yMS4zLDAtMzguNS0xNy4zLTM4LjUtMzguNVM4MC45LDk2LDEwMi4yLDk2CgljMjEuMiwwLDM4LjUsMTcuMywzOC41LDM4LjVDMTQwLjcsMTU1LjgsMTIzLjUsMTczLDEwMi4yLDE3M3ogTTM4NC4zLDQxNmgtNjYuNFYzMTJjMC0yNC44LTAuNS01Ni43LTM0LjUtNTYuNwoJYy0zNC42LDAtMzkuOSwyNy0zOS45LDU0LjlWNDE2aC02Ni40VjIwMi4yaDYzLjd2MjkuMmgwLjljOC45LTE2LjgsMzAuNi0zNC41LDYyLjktMzQuNWM2Ny4yLDAsNzkuNyw0NC4zLDc5LjcsMTAxLjlWNDE2eiIvPgo8L3N2Zz4K"/></a><a href="https://github.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Github icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMzUyYzI2LjUsMCw0OC0yMS41LDQ4LTQ4VjgwCglDNDQ4LDUzLjUsNDI2LjUsMzIsNDAwLDMyeiBNMjc3LjMsNDE1LjdjLTguNCwxLjUtMTEuNS0zLjctMTEuNS04YzAtNS40LDAuMi0zMywwLjItNTUuM2MwLTE1LjYtNS4yLTI1LjUtMTEuMy0zMC43CgljMzctNC4xLDc2LTkuMiw3Ni03My4xYzAtMTguMi02LjUtMjcuMy0xNy4xLTM5YzEuNy00LjMsNy40LTIyLTEuNy00NWMtMTMuOS00LjMtNDUuNywxNy45LTQ1LjcsMTcuOWMtMTMuMi0zLjctMjcuNS01LjYtNDEuNi01LjYKCXMtMjguNCwxLjktNDEuNiw1LjZjMCwwLTMxLjgtMjIuMi00NS43LTE3LjljLTkuMSwyMi45LTMuNSw0MC42LTEuNyw0NWMtMTAuNiwxMS43LTE1LjYsMjAuOC0xNS42LDM5YzAsNjMuNiwzNy4zLDY5LDc0LjMsNzMuMQoJYy00LjgsNC4zLTkuMSwxMS43LTEwLjYsMjIuM2MtOS41LDQuMy0zMy44LDExLjctNDguMy0xMy45Yy05LjEtMTUuOC0yNS41LTE3LjEtMjUuNS0xNy4xYy0xNi4yLTAuMi0xLjEsMTAuMi0xLjEsMTAuMgoJYzEwLjgsNSwxOC40LDI0LjIsMTguNCwyNC4yYzkuNywyOS43LDU2LjEsMTkuNyw1Ni4xLDE5LjdjMCwxMy45LDAuMiwzNi41LDAuMiw0MC42YzAsNC4zLTMsOS41LTExLjUsOAoJYy02Ni0yMi4xLTExMi4yLTg0LjktMTEyLjItMTU4LjNjMC05MS44LDcwLjItMTYxLjUsMTYyLTE2MS41UzM4OCwxNjUuNiwzODgsMjU3LjRDMzg4LjEsMzMwLjgsMzQzLjMsMzkzLjcsMjc3LjMsNDE1Ljd6CgkgTTE3OS4yLDM1NC42Yy0xLjksMC40LTMuNy0wLjQtMy45LTEuN2MtMC4yLTEuNSwxLjEtMi44LDMtMy4yYzEuOS0wLjIsMy43LDAuNiwzLjksMS45QzE4Mi41LDM1Mi45LDE4MS4yLDM1NC4yLDE3OS4yLDM1NC42CglMMTc5LjIsMzU0LjZ6IE0xNjkuNywzNTMuN2MwLDEuMy0xLjUsMi40LTMuNSwyLjRjLTIuMiwwLjItMy43LTAuOS0zLjctMi40YzAtMS4zLDEuNS0yLjQsMy41LTIuNAoJQzE2Ny45LDM1MS4xLDE2OS43LDM1Mi4yLDE2OS43LDM1My43eiBNMTU2LDM1Mi42Yy0wLjQsMS4zLTIuNCwxLjktNC4xLDEuM2MtMS45LTAuNC0zLjItMS45LTIuOC0zLjJjMC40LTEuMywyLjQtMS45LDQuMS0xLjUKCUMxNTUuMiwzNDkuOCwxNTYuNSwzNTEuMywxNTYsMzUyLjZMMTU2LDM1Mi42eiBNMTQzLjcsMzQ3LjJjLTAuOSwxLjEtMi44LDAuOS00LjMtMC42Yy0xLjUtMS4zLTEuOS0zLjItMC45LTQuMQoJYzAuOS0xLjEsMi44LTAuOSw0LjMsMC42QzE0NC4xLDM0NC40LDE0NC42LDM0Ni40LDE0My43LDM0Ny4yeiBNMTM0LjYsMzM4LjFjLTAuOSwwLjYtMi42LDAtMy43LTEuNXMtMS4xLTMuMiwwLTMuOQoJYzEuMS0wLjksMi44LTAuMiwzLjcsMS4zQzEzNS43LDMzNS41LDEzNS43LDMzNy4zLDEzNC42LDMzOC4xeiBNMTI4LjEsMzI4LjRjLTAuOSwwLjktMi40LDAuNC0zLjUtMC42Yy0xLjEtMS4zLTEuMy0yLjgtMC40LTMuNQoJYzAuOS0wLjksMi40LTAuNCwzLjUsMC42QzEyOC44LDMyNi4yLDEyOSwzMjcuNywxMjguMSwzMjguNHogTTEyMS40LDMyMWMtMC40LDAuOS0xLjcsMS4xLTIuOCwwLjRjLTEuMy0wLjYtMS45LTEuNy0xLjUtMi42CgljMC40LTAuNiwxLjUtMC45LDIuOC0wLjRDMTIxLjIsMzE5LjEsMTIxLjgsMzIwLjIsMTIxLjQsMzIxeiIvPgo8L3N2Zz4K"/></a><a href="https://gitlab.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Gitlab icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUuMiwyNC45Yy0zLjEtOC45LTE1LjctOC45LTE4LjksMEwyOS44LDE5OS43aDEzMkMxNjEuNywxOTkuNywxMDUuMiwyNC45LDEwNS4yLDI0Ljl6IE0wLjksMjg3LjcKCWMtMi42LDgsMC4zLDE2LjksNy4xLDIybDI0Ny45LDE4NGwtMjI2LjItMjk0TDAuOSwyODcuN3ogTTE2MS43LDE5OS43bDk0LjMsMjk0bDk0LjMtMjk0SDE2MS43eiBNNTExLjEsMjg3LjdsLTI4LjgtODhMMjU2LDQ5My43CglsMjQ3LjktMTg0QzUxMC44LDMwNC42LDUxMy42LDI5NS43LDUxMS4xLDI4Ny43eiBNNDI1LjcsMjQuOWMtMy4xLTguOS0xNS43LTguOS0xOC45LDBsLTU2LjYsMTc0LjhoMTMyTDQyNS43LDI0Ljl6Ii8+Cjwvc3ZnPgo="/></a><a href="http://goodreads.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="GoodReads icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yOTkuOSwxOTEuMmM1LjEsMzcuMy00LjcsNzktMzUuOSwxMDAuN2MtMjIuMywxNS41LTUyLjgsMTQuMS03MC44LDUuN2MtMzcuMS0xNy4zLTQ5LjUtNTguNi00Ni44LTk3LjIKCWM0LjMtNjAuOSw0MC45LTg3LjksNzUuMy04Ny41QzI2OC42LDExMi43LDI5My41LDE0NC43LDI5OS45LDE5MS4yTDI5OS45LDE5MS4yeiBNNDQ4LDg4djMzNmMwLDMwLjktMjUuMSw1Ni01Niw1Nkg1NgoJYy0zMC45LDAtNTYtMjUuMS01Ni01NlY4OGMwLTMwLjksMjUuMS01Niw1Ni01NmgzMzZDNDIyLjksMzIsNDQ4LDU3LjEsNDQ4LDg4eiBNMzMwLDMxMy4yYzAsMC0wLjEtMzQtMC4xLTIxNy4zaC0yOXY0MC4zCgljLTAuOCwwLjMtMS4yLTAuNS0xLjYtMS4yYy05LjYtMjAuNy0zNS45LTQ2LjMtNzYtNDZjLTUxLjksMC40LTg3LjIsMzEuMi0xMDAuNiw3Ny44Yy00LjMsMTQuOS01LjgsMzAuMS01LjUsNDUuNgoJYzEuNyw3Ny45LDQ1LjEsMTE3LjgsMTEyLjQsMTE1LjJjMjguOS0xLjEsNTQuNS0xNyw2OS00NS4yYzAuNS0xLDEuMS0xLjksMS43LTIuOWMwLjIsMC4xLDAuNCwwLjEsMC42LDAuMgoJYzAuMywzLjgsMC4yLDMwLjcsMC4xLDM0LjVjLTAuMiwxNC44LTIsMjkuNS03LjIsNDMuNWMtNy44LDIxLTIyLjMsMzQuNy00NC41LDM5LjVjLTE3LjgsMy45LTM1LjYsMy44LTUzLjItMS4yCgljLTIxLjUtNi4xLTM2LjUtMTktNDEuMS00MS44Yy0wLjMtMS42LTEuMy0xLjMtMi4zLTEuM2gtMjYuOGMwLjgsMTAuNiwzLjIsMjAuMyw4LjUsMjkuMmMyNC4yLDQwLjUsODIuNyw0OC41LDEyOC4yLDM3LjQKCUMzMTIuNSw0MDcuMiwzMjkuOSwzNjQuNiwzMzAsMzEzLjJMMzMwLDMxMy4yeiIvPgo8L3N2Zz4K"/></a><a href="https://twitter.com/rusith_" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Twitter icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMzUyYzI2LjUsMCw0OC0yMS41LDQ4LTQ4VjgwCglDNDQ4LDUzLjUsNDI2LjUsMzIsNDAwLDMyeiBNMzUxLjEsMTkwLjhjMC4yLDIuOCwwLjIsNS43LDAuMiw4LjVjMCw4Ni43LTY2LDE4Ni42LTE4Ni42LDE4Ni42Yy0zNy4yLDAtNzEuNy0xMC44LTEwMC43LTI5LjQKCWM1LjMsMC42LDEwLjQsMC44LDE1LjgsMC44YzMwLjcsMCw1OC45LTEwLjQsODEuNC0yOGMtMjguOC0wLjYtNTMtMTkuNS02MS4zLTQ1LjVjMTAuMSwxLjUsMTkuMiwxLjUsMjkuNi0xLjIKCWMtMzAtNi4xLTUyLjUtMzIuNS01Mi41LTY0LjR2LTAuOGM4LjcsNC45LDE4LjksNy45LDI5LjYsOC4zYy0xOC4zLTEyLjItMjkuMi0zMi43LTI5LjItNTQuNmMwLTEyLjIsMy4yLTIzLjQsOC45LTMzLjEKCWMzMi4zLDM5LjgsODAuOCw2NS44LDEzNS4yLDY4LjZjLTkuMy00NC41LDI0LTgwLjYsNjQtODAuNmMxOC45LDAsMzUuOSw3LjksNDcuOSwyMC43YzE0LjgtMi44LDI5LTguMyw0MS42LTE1LjgKCWMtNC45LDE1LjItMTUuMiwyOC0yOC44LDM2LjFjMTMuMi0xLjQsMjYtNS4xLDM3LjgtMTAuMkMzNzUuMSwxNjkuOSwzNjMuOSwxODEuNSwzNTEuMSwxOTAuOHoiLz4KPC9zdmc+Cg=="/></a><a href="https://www.facebook.com/shanaka.rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Facebook icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMTM3LjNWMzI3LjdoLTYzVjI1Nmg2M3YtNTQuNgoJYzAtNjIuMiwzNy05Ni41LDkzLjctOTYuNWMyNy4xLDAsNTUuNSw0LjgsNTUuNSw0Ljh2NjFoLTMxLjNjLTMwLjgsMC00MC40LDE5LjEtNDAuNCwzOC43VjI1Nmg2OC44bC0xMSw3MS43aC01Ny44VjQ4MEg0MDAKCWMyNi41LDAsNDgtMjEuNSw0OC00OFY4MEM0NDgsNTMuNSw0MjYuNSwzMiw0MDAsMzJ6Ii8+Cjwvc3ZnPgo="/></a></div><p>A blog from a tech and art enthusiast</p></div><div class="Sidebar_nav__CTYKS"><div class="Sidebar_tagWrapper__w460D"><a href="/tag/programming/"><span class="Sidebar_tag__mAo8y">#<!-- -->programming</span></a><a href="/tag/aws/"><span class="Sidebar_tag__mAo8y">#<!-- -->aws</span></a><a href="/tag/web/"><span class="Sidebar_tag__mAo8y">#<!-- -->web</span></a><a href="/tag/machineLearning/"><span class="Sidebar_tag__mAo8y">#<!-- -->machineLearning</span></a><a href="/tag/react/"><span class="Sidebar_tag__mAo8y">#<!-- -->react</span></a><a href="/tag/javascript/"><span class="Sidebar_tag__mAo8y">#<!-- -->javascript</span></a><a href="/tag/dataScience/"><span class="Sidebar_tag__mAo8y">#<!-- -->dataScience</span></a><a href="/tag/typescript/"><span class="Sidebar_tag__mAo8y">#<!-- -->typescript</span></a><a href="/tag/r/"><span class="Sidebar_tag__mAo8y">#<!-- -->r</span></a><a href="/tag/csharp/"><span class="Sidebar_tag__mAo8y">#<!-- -->csharp</span></a></div></div></div></div><div class="comp_content__73ns2"><div><h1>Data Pre-Processing With R</h1><div class="Post_tags__HKWUb"><a class="Post_tag__5GXoX" href="https://rusith.me/tag/machineLearning">#<!-- -->machineLearning</a><a class="Post_tag__5GXoX" href="https://rusith.me/tag/dataScience">#<!-- -->dataScience</a><a class="Post_tag__5GXoX" href="https://rusith.me/tag/r">#<!-- -->r</a></div><span class="Post_date__h8Of6">Sat, May 4, 2019</span><div><p>Before feeding our dataSet into a machine learning algorithm it's absolutely necessary to pre-process the data where we should clean and re-shape our data to get the maximum performance from our machine learning models. </p>
<p>In this post, I will go through a set of procedures which you can use to pre-process a data set.</p>
<p>you can download the data set that I am going to use in this post from  <a href="https://rusith.me/post-data/2019-05-04-data-preprocessing-with-r/dataSet.csv">Here</a>.
Download the file as <code>dataSet.csv</code> to a folder and set it as the working directory in your R editor</p>
<p>The data in this set are completely random and the data set has no real value. as we are only using it in pre-processing, that should not be a problem.</p>
<h3 id="loadingthedata">Loading the Data</h3>
<p>Okay, now we have the data file, now we need to read it in order to work with it.</p>
<pre><code class="hljs R language-R"><span class="hljs-comment"># This will load the SCV file into a data frame</span>
data <span class="hljs-operator">&lt;-</span> read.csv<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;dataSet.csv&quot;</span><span class="hljs-punctuation">)</span>
</code></pre>
<p>Now we have the data set loaded into a variable we can go ahead with our pre-processing steps.</p>
<h2 id="dealingwithmissingdata">Dealing with Missing Data</h2>
<p>As you can see in the data set, it has four cells which don't have any values in <code>Age</code> and <code>Salary</code> variables.</p>
<p>In both cases, we can replace the <code>NA</code> values with the mean of the variable.</p>
<p>to do this we will write a function which will replace the <code>NA</code> values with the mean of the specific vector.</p>
<pre><code class="hljs R language-R"><span class="hljs-comment"># This will fix the NAs in the given vector (column)</span>
fixNa <span class="hljs-operator">&lt;-</span> <span class="hljs-keyword">function</span> <span class="hljs-punctuation">(</span>attribute<span class="hljs-punctuation">)</span> <span class="hljs-punctuation">{</span>
  ifelse<span class="hljs-punctuation">(</span><span class="hljs-built_in">is.na</span><span class="hljs-punctuation">(</span>attribute<span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> mean<span class="hljs-punctuation">(</span>attribute<span class="hljs-punctuation">,</span> na.rm <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> attribute<span class="hljs-punctuation">)</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment"># Now we can re-use the same function to fix NAs in both variables</span>
data<span class="hljs-operator">$</span>Age <span class="hljs-operator">&lt;-</span> fixNa<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Age<span class="hljs-punctuation">)</span>
data<span class="hljs-operator">$</span>Income <span class="hljs-operator">&lt;-</span> fixNa<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Income<span class="hljs-punctuation">)</span>
</code></pre>
<p>Okay, now we have got rid of the missing values. if you check the data set now you can see the <code>NA</code> cells a are replaced by values <code>33.3</code> and <code>77539.6</code></p>
<h2 id="dealingwithcategoricalvariables">Dealing With Categorical Variables</h2>
<p>In a data set, variables are divided into two types, numerical and categorical. in our data set there are two numerical variables which are <code>Age</code> and <code>Salary</code> and there are three categorical variables which are <code>Country</code>, <code>Gender</code> and <code>Married</code>. we can't use these categorical variables (string values) as is in a mathematical equation. so we will have to convert or encode them to numbers so we can use them in our algorithms. to do this we can use the <code>factor</code> function in R</p>
<pre><code class="hljs R language-R">factorCategories <span class="hljs-operator">&lt;-</span> <span class="hljs-keyword">function</span> <span class="hljs-punctuation">(</span><span class="hljs-built_in">attr</span><span class="hljs-punctuation">,</span> zeroBased <span class="hljs-operator">=</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">)</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-comment"># we can reuse the same result</span>
  uniqueValues <span class="hljs-operator">=</span> unique<span class="hljs-punctuation">(</span><span class="hljs-built_in">attr</span><span class="hljs-punctuation">)</span>
  factor<span class="hljs-punctuation">(</span><span class="hljs-built_in">attr</span><span class="hljs-punctuation">,</span> uniqueValues<span class="hljs-punctuation">,</span> seq<span class="hljs-punctuation">(</span>ifelse<span class="hljs-punctuation">(</span>zeroBased<span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> 
                                 ifelse<span class="hljs-punctuation">(</span>zeroBased<span class="hljs-punctuation">,</span> <span class="hljs-built_in">length</span><span class="hljs-punctuation">(</span>uniqueValues<span class="hljs-punctuation">)</span> <span class="hljs-operator">-</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">length</span><span class="hljs-punctuation">(</span>uniqueValues<span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span>
<span class="hljs-punctuation">}</span>

data<span class="hljs-operator">$</span>Country <span class="hljs-operator">&lt;-</span> factorCategories<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Country<span class="hljs-punctuation">)</span>
data<span class="hljs-operator">$</span>Gender <span class="hljs-operator">&lt;-</span> factorCategories<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Gender<span class="hljs-punctuation">,</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span>
data<span class="hljs-operator">$</span>Married <span class="hljs-operator">&lt;-</span> factorCategories<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Married<span class="hljs-punctuation">,</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span>
</code></pre>
<p>Here again, we use a function to do the processing so we don't have to rewrite the same thing. the <code>factorCategories</code> will use the <code>factor</code> function to replace the categorical values with factors. with variables like <code>Gender</code> and <code>Married</code> which has only two possible values, we have used  0 based sequence to include 0.</p>
<h2 id="splittingthemodel">Splitting the Model</h2>
<p>So, now we have fixed the categorical values and we are ready to split the data set into two sets which are <code>training set</code> and <code>test set</code>. this step is necessary because, in order to evaluate the performance of our machine learning model, we need a separate set from our training set.</p>
<p>we are going to use the <code>caTools</code> R library to do this.</p>
<pre><code class="hljs R language-R">library<span class="hljs-punctuation">(</span>caTools<span class="hljs-punctuation">)</span> <span class="hljs-comment"># Load caTools which will help to split the data set</span>
set.seed<span class="hljs-punctuation">(</span><span class="hljs-number">12345</span><span class="hljs-punctuation">)</span>

<span class="hljs-comment"># Creating the input vector which will help the subset function to decide the set of a row</span>
sp <span class="hljs-operator">&lt;-</span> sample.split<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Married<span class="hljs-punctuation">,</span> SplitRatio <span class="hljs-operator">=</span> <span class="hljs-number">0.8</span><span class="hljs-punctuation">)</span> <span class="hljs-comment"># This sets the ratio of the training set</span>

<span class="hljs-comment"># Now we can subset using split vector</span>
trainingSet <span class="hljs-operator">&lt;-</span> subset<span class="hljs-punctuation">(</span>data<span class="hljs-punctuation">,</span> sp <span class="hljs-operator">==</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span> <span class="hljs-comment"># Include if the value is TRUE</span>
testSet <span class="hljs-operator">&lt;-</span> subset<span class="hljs-punctuation">(</span>data<span class="hljs-punctuation">,</span> sp <span class="hljs-operator">==</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">)</span> <span class="hljs-comment"># Include if the value is FALSE</span>
</code></pre>
<h2 id="featurescaling">Feature Scaling</h2>
<p>If you take a look at two numerical variables of the data set you can see that those are not on the same scale. the <code>Salary</code> column has much larger values than the <code>Age</code> column. this could cause problems in the machine learning model if we don't fix it. 
a lot of machine learning models are based on the Euclidean Distance equation. so if we don't normalize the values, the salary will dominate the Euclidean Distance. </p>
<p>there are several ways of Feature scaling common ones are </p>
<ol>
<li>Standardization</li>
<li>Normalization</li>
</ol>
<p>in Standardization, for each observation in each feature, you withdraw the mean value of all the values of the feature and divide it by the standard deviation.</p>
<p>and in Normalization, you subtract your observation feature <code>x</code> by the minimum value of all feature values and divide it by the difference between the maximum of your feature values and the minimum of your feature values.</p>
<p>We can use the in-built <code>scale</code> function in R to do this.</p>
<pre><code class="hljs R language-R">trainingSet<span class="hljs-punctuation">[</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-number">4</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span> <span class="hljs-operator">=</span> scale<span class="hljs-punctuation">(</span>trainingSet<span class="hljs-punctuation">[</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-number">4</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">)</span>
testSet<span class="hljs-punctuation">[</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-number">4</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span> <span class="hljs-operator">=</span> scale<span class="hljs-punctuation">(</span>testSet<span class="hljs-punctuation">[</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-number">4</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">)</span>
</code></pre>
<p>we have to select only the features in indexes 2 and 4 which are <code>Salary</code> and <code>Age</code>. we should not include the features which we converted to factors in the scaling set as they are not considered as numbers in R.</p>
<h2 id="wrapup">Wrap up</h2>
<p>Okay with feature scaling done, we have a simple and perfect data set that can be used in our machine learning models.</p>
<p>below is the complete script that we built in this article.</p>
<pre><code class="hljs R language-R"><span class="hljs-comment"># This will load the SCV file into a data frame</span>
data <span class="hljs-operator">&lt;-</span> read.csv<span class="hljs-punctuation">(</span><span class="hljs-string">&quot;dataSet.csv&quot;</span><span class="hljs-punctuation">)</span>

<span class="hljs-comment"># This will fix the NAs in the given vector (column)</span>
fixNa <span class="hljs-operator">&lt;-</span> <span class="hljs-keyword">function</span> <span class="hljs-punctuation">(</span>attribute<span class="hljs-punctuation">)</span> <span class="hljs-punctuation">{</span>
  ifelse<span class="hljs-punctuation">(</span><span class="hljs-built_in">is.na</span><span class="hljs-punctuation">(</span>attribute<span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> mean<span class="hljs-punctuation">(</span>attribute<span class="hljs-punctuation">,</span> na.rm <span class="hljs-operator">=</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> attribute<span class="hljs-punctuation">)</span>
<span class="hljs-punctuation">}</span>


<span class="hljs-comment"># Now we can re-use the same function to fix NAs in both variables</span>
data<span class="hljs-operator">$</span>Age <span class="hljs-operator">&lt;-</span> fixNa<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Age<span class="hljs-punctuation">)</span>
data<span class="hljs-operator">$</span>Income <span class="hljs-operator">&lt;-</span> fixNa<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Income<span class="hljs-punctuation">)</span>


factorCategories <span class="hljs-operator">&lt;-</span> <span class="hljs-keyword">function</span> <span class="hljs-punctuation">(</span><span class="hljs-built_in">attr</span><span class="hljs-punctuation">,</span> zeroBased <span class="hljs-operator">=</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">)</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-comment"># we can reuse the same result</span>
  uniqueValues <span class="hljs-operator">=</span> unique<span class="hljs-punctuation">(</span><span class="hljs-built_in">attr</span><span class="hljs-punctuation">)</span>
  factor<span class="hljs-punctuation">(</span><span class="hljs-built_in">attr</span><span class="hljs-punctuation">,</span> uniqueValues<span class="hljs-punctuation">,</span> seq<span class="hljs-punctuation">(</span>ifelse<span class="hljs-punctuation">(</span>zeroBased<span class="hljs-punctuation">,</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-number">1</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">,</span> 
                                 ifelse<span class="hljs-punctuation">(</span>zeroBased<span class="hljs-punctuation">,</span> <span class="hljs-built_in">length</span><span class="hljs-punctuation">(</span>uniqueValues<span class="hljs-punctuation">)</span> <span class="hljs-operator">-</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">length</span><span class="hljs-punctuation">(</span>uniqueValues<span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">)</span>
<span class="hljs-punctuation">}</span>

data<span class="hljs-operator">$</span>Country <span class="hljs-operator">&lt;-</span> factorCategories<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Country<span class="hljs-punctuation">)</span>
data<span class="hljs-operator">$</span>Gender <span class="hljs-operator">&lt;-</span> factorCategories<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Gender<span class="hljs-punctuation">,</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span>
data<span class="hljs-operator">$</span>Married <span class="hljs-operator">&lt;-</span> factorCategories<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Married<span class="hljs-punctuation">,</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span>

library<span class="hljs-punctuation">(</span>caTools<span class="hljs-punctuation">)</span> <span class="hljs-comment"># Load caTools which will help to split the data set</span>
set.seed<span class="hljs-punctuation">(</span><span class="hljs-number">12345</span><span class="hljs-punctuation">)</span>

<span class="hljs-comment"># Creating the input vector which will help the subset function to decide the set of a row</span>
sp <span class="hljs-operator">&lt;-</span> sample.split<span class="hljs-punctuation">(</span>data<span class="hljs-operator">$</span>Married<span class="hljs-punctuation">,</span> SplitRatio <span class="hljs-operator">=</span> <span class="hljs-number">0.8</span><span class="hljs-punctuation">)</span> <span class="hljs-comment"># This sets the ratio of the training set</span>

<span class="hljs-comment"># Now we can subset using split vector</span>
trainingSet <span class="hljs-operator">&lt;-</span> subset<span class="hljs-punctuation">(</span>data<span class="hljs-punctuation">,</span> sp <span class="hljs-operator">==</span> <span class="hljs-literal">TRUE</span><span class="hljs-punctuation">)</span> <span class="hljs-comment"># Include if the value is TRUE</span>
testSet <span class="hljs-operator">&lt;-</span> subset<span class="hljs-punctuation">(</span>data<span class="hljs-punctuation">,</span> sp <span class="hljs-operator">==</span> <span class="hljs-literal">FALSE</span><span class="hljs-punctuation">)</span> <span class="hljs-comment"># Include if the value is FALSE</span>


trainingSet<span class="hljs-punctuation">[</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-number">4</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span> <span class="hljs-operator">=</span> scale<span class="hljs-punctuation">(</span>trainingSet<span class="hljs-punctuation">[</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-number">4</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">)</span>
testSet<span class="hljs-punctuation">[</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-number">4</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span> <span class="hljs-operator">=</span> scale<span class="hljs-punctuation">(</span>testSet<span class="hljs-punctuation">[</span><span class="hljs-punctuation">,</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">(</span><span class="hljs-number">2</span><span class="hljs-punctuation">,</span><span class="hljs-number">4</span><span class="hljs-punctuation">)</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">)</span>
</code></pre></div></div><div class="Post_related__V0k3K"><h2>Related Posts</h2><ul class="Post_relatedPosts__co9O7"><li><h3><a href="https://rusith.me/blog/simple-linear-regression-with-r">Simple Linear Regression With R<small>Tue, May 7, 2019</small></a></h3></li><li><h3><a href="https://rusith.me/blog/multiple-linear-regression-python">Multiple Linear Regression With Python<small>Tue, Jun 18, 2019</small></a></h3></li><li><h3><a href="https://rusith.me/blog/the-essence-of-machine-learning">The Essence of Machine Learning<small>Tue, May 7, 2019</small></a></h3></li></ul></div><div id="disqus_thread"></div></div><div class="sbuttons"><a href="https://www.facebook.com/sharer/sharer.php?u=https://rusith.me/blog/data-preprocessing-with-r" target="_blank" class="sbutton fb" title="Share on Facebook" rel="noreferrer"><img alt="Facebook icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMjAgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMjAgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNzkuMSwyODhsMTQuMi05Mi43aC04OC45di02MC4xYzAtMjUuMywxMi40LTUwLjEsNTIuMi01MC4xaDQwLjRWNi4zYzAsMC0zNi43LTYuMy03MS43LTYuMwoJYy03My4yLDAtMTIxLjEsNDQuNC0xMjEuMSwxMjQuN3Y3MC42SDIyLjlWMjg4aDgxLjR2MjI0aDEwMC4yVjI4OEgyNzkuMXoiLz4KPC9zdmc+Cg=="/></a><a href="https://twitter.com/intent/tweet?text=https://rusith.me/blog/data-preprocessing-with-r" target="_blank" class="sbutton twitt" title="Share on Twitter" rel="noreferrer"><img alt="Twitter icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00NTkuNCwxNTEuN2MwLjMsNC41LDAuMyw5LjEsMC4zLDEzLjZjMCwxMzguNy0xMDUuNiwyOTguNi0yOTguNiwyOTguNmMtNTkuNSwwLTExNC43LTE3LjItMTYxLjEtNDcuMQoJYzguNCwxLDE2LjYsMS4zLDI1LjMsMS4zYzQ5LjEsMCw5NC4yLTE2LjYsMTMwLjMtNDQuOGMtNDYuMS0xLTg0LjgtMzEuMi05OC4xLTcyLjhjNi41LDEsMTMsMS42LDE5LjgsMS42YzkuNCwwLDE4LjgtMS4zLDI3LjYtMy42CgljLTQ4LjEtOS43LTg0LjEtNTItODQuMS0xMDN2LTEuM2MxNCw3LjgsMzAuMiwxMi43LDQ3LjQsMTMuM2MtMjguMy0xOC44LTQ2LjgtNTEtNDYuOC04Ny40YzAtMTkuNSw1LjItMzcuNCwxNC4zLTUzCglDODcuNCwxMzAuOSwxNjUsMTcyLjUsMjUyLjEsMTc3LjFjLTEuNi03LjgtMi42LTE1LjktMi42LTI0YzAtNTcuOCw0Ni44LTEwNC45LDEwNC45LTEwNC45YzMwLjIsMCw1Ny41LDEyLjcsNzYuNywzMy4xCgljMjMuNy00LjUsNDYuNS0xMy4zLDY2LjYtMjUuM2MtNy44LDI0LjQtMjQuNCw0NC44LTQ2LjEsNTcuOGMyMS4xLTIuMyw0MS42LTguMSw2MC40LTE2LjJDNDk3LjcsMTE4LjMsNDc5LjgsMTM2LjgsNDU5LjQsMTUxLjcKCUw0NTkuNCwxNTEuN3oiLz4KPC9zdmc+Cg=="/></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://rusith.me/blog/data-preprocessing-with-r&amp;title=&amp;summary=&amp;source=" target="_blank" class="sbutton linkedin" title="Share on Linkedin" rel="noreferrer"><img alt="LinkedIn icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDAuMyw0NDhINy40VjE0OC45aDkyLjlWNDQ4eiBNNTMuOCwxMDguMUMyNC4xLDEwOC4xLDAsODMuNSwwLDUzLjhDMCwyNC4xLDI0LjEsMCw1My44LDAKCWMyOS43LDAsNTMuOCwyNC4xLDUzLjgsNTMuOEMxMDcuNiw4My41LDgzLjUsMTA4LjEsNTMuOCwxMDguMXogTTQ0Ny45LDQ0OGgtOTIuN1YzMDIuNGMwLTM0LjctMC43LTc5LjItNDguMy03OS4yCgljLTQ4LjMsMC01NS43LDM3LjctNTUuNyw3Ni43VjQ0OGgtOTIuOFYxNDguOWg4OS4xdjQwLjhoMS4zYzEyLjQtMjMuNSw0Mi43LTQ4LjMsODcuOS00OC4zYzk0LDAsMTExLjMsNjEuOSwxMTEuMywxNDIuM1Y0NDhINDQ3Ljl6CgkiLz4KPC9zdmc+Cg=="/></a><a target="_blank" class="sbutton mainsbutton"><img alt="Share button" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNTIsMzIwYy0yNS42LDAtNDguOSwxMC02Ni4xLDI2LjRsLTk4LjMtNjEuNWM1LjktMTguOCw1LjktMzkuMSwwLTU3LjhsOTguMy02MS41CglDMzAzLjEsMTgyLDMyNi40LDE5MiwzNTIsMTkyYzUzLDAsOTYtNDMsOTYtOTZTNDA1LDAsMzUyLDBzLTk2LDQzLTk2LDk2YzAsOS44LDEuNSwxOS42LDQuNCwyOC45bC05OC4zLDYxLjUKCUMxNDQuOSwxNzAsMTIxLjYsMTYwLDk2LDE2MGMtNTMsMC05Niw0My05Niw5NnM0Myw5Niw5Niw5NmMyNS42LDAsNDguOS0xMCw2Ni4xLTI2LjRsOTguMyw2MS41Yy0yLjksOS40LTQuNCwxOS4xLTQuNCwyOC45CgljMCw1Myw0Myw5Niw5Niw5NnM5Ni00Myw5Ni05NlM0MDUsMzIwLDM1MiwzMjBMMzUyLDMyMHogTTM1Miw0OGMyNi41LDAsNDgsMjEuNSw0OCw0OHMtMjEuNSw0OC00OCw0OHMtNDgtMjEuNS00OC00OAoJUzMyNS41LDQ4LDM1Miw0OHogTTk2LDMwNGMtMjYuNSwwLTQ4LTIxLjUtNDgtNDhzMjEuNS00OCw0OC00OHM0OCwyMS41LDQ4LDQ4UzEyMi41LDMwNCw5NiwzMDR6IE0zNTIsNDY0Yy0yNi41LDAtNDgtMjEuNS00OC00OAoJczIxLjUtNDgsNDgtNDhzNDgsMjEuNSw0OCw0OFMzNzguNSw0NjQsMzUyLDQ2NHoiLz4KPC9zdmc+Cg=="/></a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"fileName":"2019-05-04-data-preprocessing-with-r.md","fullPath":"/home/runner/work/rusith.me/rusith.me/modules/blog/posts/2019-05-04-data-preprocessing-with-r.md","title":"Data Pre-Processing With R","tags":["machineLearning","dataScience","r"],"comments":true,"description":"Before feeding our dataSet into a machine learning algorithm it's absolutely necessary to pre-process the data where we should clean and re-shape our data to get the maximum performance from our machine learning models. In this post, I will go through a set of procedures which you can use to pre-process a data set.","dateCreated":"Sat May 04 2019 00:00:00 GMT+0000 (Coordinated Universal Time)","dateModified":"Sat May 04 2019 00:00:00 GMT+0000 (Coordinated Universal Time)","datePublished":"Sat May 04 2019 00:00:00 GMT+0000 (Coordinated Universal Time)","dependencies":"R","about":"Basic introduction on data pre-processing for machine learning using R","path":"/blog/data-preprocessing-with-r","oldPath":"/2019/05/04/data-preprocessing-with-r","dateCreatedFormatted":"Sat, May 4, 2019","fullUrl":"https://rusith.me/blog/data-preprocessing-with-r","fileContent":"---\ntitle: Data Pre-Processing With R\ntags: machineLearning dataScience r\ncomments: true\ndescription: Before feeding our dataSet into a machine learning algorithm it's absolutely necessary to pre-process the data where we should clean and re-shape our data to get the maximum performance from our machine learning models. In this post, I will go through a set of procedures which you can use to pre-process a data set.\ndateCreated: 2019-05-04\ndateModified: 2019-05-04\ndatePublished: 2019-05-04\ndependencies: R\nabout: Basic introduction on data pre-processing for machine learning using R\npath: /data-preprocessing-with-r\noldPath: /2019/05/04/data-preprocessing-with-r\n---\n\nBefore feeding our dataSet into a machine learning algorithm it's absolutely necessary to pre-process the data where we should clean and re-shape our data to get the maximum performance from our machine learning models. \n\nIn this post, I will go through a set of procedures which you can use to pre-process a data set.\n\nyou can download the data set that I am going to use in this post from  [Here]($$base_url/post-data/2019-05-04-data-preprocessing-with-r/dataSet.csv).\nDownload the file as `dataSet.csv` to a folder and set it as the working directory in your R editor\n\nThe data in this set are completely random and the data set has no real value. as we are only using it in pre-processing, that should not be a problem.\n\n\n### Loading the Data\n\nOkay, now we have the data file, now we need to read it in order to work with it.\n\n```R\n# This will load the SCV file into a data frame\ndata \u003c- read.csv(\"dataSet.csv\")\n```\n\nNow we have the data set loaded into a variable we can go ahead with our pre-processing steps.\n\n## Dealing with Missing Data\n\nAs you can see in the data set, it has four cells which don't have any values in `Age` and `Salary` variables.\n\nIn both cases, we can replace the `NA` values with the mean of the variable.\n\nto do this we will write a function which will replace the `NA` values with the mean of the specific vector.\n\n```R\n# This will fix the NAs in the given vector (column)\nfixNa \u003c- function (attribute) {\n  ifelse(is.na(attribute), mean(attribute, na.rm = TRUE), attribute)\n}\n\n# Now we can re-use the same function to fix NAs in both variables\ndata$Age \u003c- fixNa(data$Age)\ndata$Income \u003c- fixNa(data$Income)\n```\n\nOkay, now we have got rid of the missing values. if you check the data set now you can see the `NA` cells a are replaced by values `33.3` and `77539.6`\n\n## Dealing With Categorical Variables\n\nIn a data set, variables are divided into two types, numerical and categorical. in our data set there are two numerical variables which are `Age` and `Salary` and there are three categorical variables which are `Country`, `Gender` and `Married`. we can't use these categorical variables (string values) as is in a mathematical equation. so we will have to convert or encode them to numbers so we can use them in our algorithms. to do this we can use the `factor` function in R\n\n```R\nfactorCategories \u003c- function (attr, zeroBased = FALSE) {\n  # we can reuse the same result\n  uniqueValues = unique(attr)\n  factor(attr, uniqueValues, seq(ifelse(zeroBased, 0, 1), \n                                 ifelse(zeroBased, length(uniqueValues) -1, length(uniqueValues))))\n}\n\ndata$Country \u003c- factorCategories(data$Country)\ndata$Gender \u003c- factorCategories(data$Gender, TRUE)\ndata$Married \u003c- factorCategories(data$Married, TRUE)\n```\n\nHere again, we use a function to do the processing so we don't have to rewrite the same thing. the `factorCategories` will use the `factor` function to replace the categorical values with factors. with variables like `Gender` and `Married` which has only two possible values, we have used  0 based sequence to include 0.\n\n\n## Splitting the Model\n\nSo, now we have fixed the categorical values and we are ready to split the data set into two sets which are `training set` and `test set`. this step is necessary because, in order to evaluate the performance of our machine learning model, we need a separate set from our training set.\n\nwe are going to use the `caTools` R library to do this.\n\n```R\nlibrary(caTools) # Load caTools which will help to split the data set\nset.seed(12345)\n\n# Creating the input vector which will help the subset function to decide the set of a row\nsp \u003c- sample.split(data$Married, SplitRatio = 0.8) # This sets the ratio of the training set\n\n# Now we can subset using split vector\ntrainingSet \u003c- subset(data, sp == TRUE) # Include if the value is TRUE\ntestSet \u003c- subset(data, sp == FALSE) # Include if the value is FALSE\n```\n\n## Feature Scaling\n\nIf you take a look at two numerical variables of the data set you can see that those are not on the same scale. the `Salary` column has much larger values than the `Age` column. this could cause problems in the machine learning model if we don't fix it. \na lot of machine learning models are based on the Euclidean Distance equation. so if we don't normalize the values, the salary will dominate the Euclidean Distance. \n\nthere are several ways of Feature scaling common ones are \n1. Standardization\n2. Normalization\n\nin Standardization, for each observation in each feature, you withdraw the mean value of all the values of the feature and divide it by the standard deviation.\n\nand in Normalization, you subtract your observation feature `x` by the minimum value of all feature values and divide it by the difference between the maximum of your feature values and the minimum of your feature values.\n\nWe can use the in-built `scale` function in R to do this.\n\n```R\ntrainingSet[, c(2,4)] = scale(trainingSet[, c(2,4)])\ntestSet[, c(2,4)] = scale(testSet[, c(2,4)])\n```\n\nwe have to select only the features in indexes 2 and 4 which are `Salary` and `Age`. we should not include the features which we converted to factors in the scaling set as they are not considered as numbers in R.\n\n\n## Wrap up\n\nOkay with feature scaling done, we have a simple and perfect data set that can be used in our machine learning models.\n\nbelow is the complete script that we built in this article.\n\n```R\n# This will load the SCV file into a data frame\ndata \u003c- read.csv(\"dataSet.csv\")\n\n# This will fix the NAs in the given vector (column)\nfixNa \u003c- function (attribute) {\n  ifelse(is.na(attribute), mean(attribute, na.rm = TRUE), attribute)\n}\n\n\n# Now we can re-use the same function to fix NAs in both variables\ndata$Age \u003c- fixNa(data$Age)\ndata$Income \u003c- fixNa(data$Income)\n\n\nfactorCategories \u003c- function (attr, zeroBased = FALSE) {\n  # we can reuse the same result\n  uniqueValues = unique(attr)\n  factor(attr, uniqueValues, seq(ifelse(zeroBased, 0, 1), \n                                 ifelse(zeroBased, length(uniqueValues) -1, length(uniqueValues))))\n}\n\ndata$Country \u003c- factorCategories(data$Country)\ndata$Gender \u003c- factorCategories(data$Gender, TRUE)\ndata$Married \u003c- factorCategories(data$Married, TRUE)\n\nlibrary(caTools) # Load caTools which will help to split the data set\nset.seed(12345)\n\n# Creating the input vector which will help the subset function to decide the set of a row\nsp \u003c- sample.split(data$Married, SplitRatio = 0.8) # This sets the ratio of the training set\n\n# Now we can subset using split vector\ntrainingSet \u003c- subset(data, sp == TRUE) # Include if the value is TRUE\ntestSet \u003c- subset(data, sp == FALSE) # Include if the value is FALSE\n\n\ntrainingSet[, c(2,4)] = scale(trainingSet[, c(2,4)])\ntestSet[, c(2,4)] = scale(testSet[, c(2,4)])\n```\n","parsedContent":"\u003cp\u003eBefore feeding our dataSet into a machine learning algorithm it's absolutely necessary to pre-process the data where we should clean and re-shape our data to get the maximum performance from our machine learning models. \u003c/p\u003e\n\u003cp\u003eIn this post, I will go through a set of procedures which you can use to pre-process a data set.\u003c/p\u003e\n\u003cp\u003eyou can download the data set that I am going to use in this post from  \u003ca href=\"https://rusith.me/post-data/2019-05-04-data-preprocessing-with-r/dataSet.csv\"\u003eHere\u003c/a\u003e.\nDownload the file as \u003ccode\u003edataSet.csv\u003c/code\u003e to a folder and set it as the working directory in your R editor\u003c/p\u003e\n\u003cp\u003eThe data in this set are completely random and the data set has no real value. as we are only using it in pre-processing, that should not be a problem.\u003c/p\u003e\n\u003ch3 id=\"loadingthedata\"\u003eLoading the Data\u003c/h3\u003e\n\u003cp\u003eOkay, now we have the data file, now we need to read it in order to work with it.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs R language-R\"\u003e\u003cspan class=\"hljs-comment\"\u003e# This will load the SCV file into a data frame\u003c/span\u003e\ndata \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e read.csv\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\u0026quot;dataSet.csv\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow we have the data set loaded into a variable we can go ahead with our pre-processing steps.\u003c/p\u003e\n\u003ch2 id=\"dealingwithmissingdata\"\u003eDealing with Missing Data\u003c/h2\u003e\n\u003cp\u003eAs you can see in the data set, it has four cells which don't have any values in \u003ccode\u003eAge\u003c/code\u003e and \u003ccode\u003eSalary\u003c/code\u003e variables.\u003c/p\u003e\n\u003cp\u003eIn both cases, we can replace the \u003ccode\u003eNA\u003c/code\u003e values with the mean of the variable.\u003c/p\u003e\n\u003cp\u003eto do this we will write a function which will replace the \u003ccode\u003eNA\u003c/code\u003e values with the mean of the specific vector.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs R language-R\"\u003e\u003cspan class=\"hljs-comment\"\u003e# This will fix the NAs in the given vector (column)\u003c/span\u003e\nfixNa \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003eattribute\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n  ifelse\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eis.na\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003eattribute\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e mean\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003eattribute\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e na.rm \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eTRUE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e attribute\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# Now we can re-use the same function to fix NAs in both variables\u003c/span\u003e\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eAge \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e fixNa\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eAge\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eIncome \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e fixNa\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eIncome\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOkay, now we have got rid of the missing values. if you check the data set now you can see the \u003ccode\u003eNA\u003c/code\u003e cells a are replaced by values \u003ccode\u003e33.3\u003c/code\u003e and \u003ccode\u003e77539.6\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id=\"dealingwithcategoricalvariables\"\u003eDealing With Categorical Variables\u003c/h2\u003e\n\u003cp\u003eIn a data set, variables are divided into two types, numerical and categorical. in our data set there are two numerical variables which are \u003ccode\u003eAge\u003c/code\u003e and \u003ccode\u003eSalary\u003c/code\u003e and there are three categorical variables which are \u003ccode\u003eCountry\u003c/code\u003e, \u003ccode\u003eGender\u003c/code\u003e and \u003ccode\u003eMarried\u003c/code\u003e. we can't use these categorical variables (string values) as is in a mathematical equation. so we will have to convert or encode them to numbers so we can use them in our algorithms. to do this we can use the \u003ccode\u003efactor\u003c/code\u003e function in R\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs R language-R\"\u003efactorCategories \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eattr\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e zeroBased \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eFALSE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e# we can reuse the same result\u003c/span\u003e\n  uniqueValues \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e unique\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eattr\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n  factor\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eattr\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e uniqueValues\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e seq\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003eifelse\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003ezeroBased\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \n                                 ifelse\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003ezeroBased\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003elength\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003euniqueValues\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e-\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003elength\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003euniqueValues\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eCountry \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e factorCategories\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eCountry\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eGender \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e factorCategories\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eGender\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eTRUE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eMarried \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e factorCategories\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eMarried\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eTRUE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHere again, we use a function to do the processing so we don't have to rewrite the same thing. the \u003ccode\u003efactorCategories\u003c/code\u003e will use the \u003ccode\u003efactor\u003c/code\u003e function to replace the categorical values with factors. with variables like \u003ccode\u003eGender\u003c/code\u003e and \u003ccode\u003eMarried\u003c/code\u003e which has only two possible values, we have used  0 based sequence to include 0.\u003c/p\u003e\n\u003ch2 id=\"splittingthemodel\"\u003eSplitting the Model\u003c/h2\u003e\n\u003cp\u003eSo, now we have fixed the categorical values and we are ready to split the data set into two sets which are \u003ccode\u003etraining set\u003c/code\u003e and \u003ccode\u003etest set\u003c/code\u003e. this step is necessary because, in order to evaluate the performance of our machine learning model, we need a separate set from our training set.\u003c/p\u003e\n\u003cp\u003ewe are going to use the \u003ccode\u003ecaTools\u003c/code\u003e R library to do this.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs R language-R\"\u003elibrary\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003ecaTools\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Load caTools which will help to split the data set\u003c/span\u003e\nset.seed\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e12345\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# Creating the input vector which will help the subset function to decide the set of a row\u003c/span\u003e\nsp \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e sample.split\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eMarried\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e SplitRatio \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0.8\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# This sets the ratio of the training set\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# Now we can subset using split vector\u003c/span\u003e\ntrainingSet \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e subset\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e sp \u003cspan class=\"hljs-operator\"\u003e==\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eTRUE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Include if the value is TRUE\u003c/span\u003e\ntestSet \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e subset\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e sp \u003cspan class=\"hljs-operator\"\u003e==\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eFALSE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Include if the value is FALSE\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"featurescaling\"\u003eFeature Scaling\u003c/h2\u003e\n\u003cp\u003eIf you take a look at two numerical variables of the data set you can see that those are not on the same scale. the \u003ccode\u003eSalary\u003c/code\u003e column has much larger values than the \u003ccode\u003eAge\u003c/code\u003e column. this could cause problems in the machine learning model if we don't fix it. \na lot of machine learning models are based on the Euclidean Distance equation. so if we don't normalize the values, the salary will dominate the Euclidean Distance. \u003c/p\u003e\n\u003cp\u003ethere are several ways of Feature scaling common ones are \u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eStandardization\u003c/li\u003e\n\u003cli\u003eNormalization\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003ein Standardization, for each observation in each feature, you withdraw the mean value of all the values of the feature and divide it by the standard deviation.\u003c/p\u003e\n\u003cp\u003eand in Normalization, you subtract your observation feature \u003ccode\u003ex\u003c/code\u003e by the minimum value of all feature values and divide it by the difference between the maximum of your feature values and the minimum of your feature values.\u003c/p\u003e\n\u003cp\u003eWe can use the in-built \u003ccode\u003escale\u003c/code\u003e function in R to do this.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs R language-R\"\u003etrainingSet\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ec\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e scale\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003etrainingSet\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ec\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\ntestSet\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ec\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e scale\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003etestSet\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ec\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewe have to select only the features in indexes 2 and 4 which are \u003ccode\u003eSalary\u003c/code\u003e and \u003ccode\u003eAge\u003c/code\u003e. we should not include the features which we converted to factors in the scaling set as they are not considered as numbers in R.\u003c/p\u003e\n\u003ch2 id=\"wrapup\"\u003eWrap up\u003c/h2\u003e\n\u003cp\u003eOkay with feature scaling done, we have a simple and perfect data set that can be used in our machine learning models.\u003c/p\u003e\n\u003cp\u003ebelow is the complete script that we built in this article.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs R language-R\"\u003e\u003cspan class=\"hljs-comment\"\u003e# This will load the SCV file into a data frame\u003c/span\u003e\ndata \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e read.csv\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-string\"\u003e\u0026quot;dataSet.csv\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# This will fix the NAs in the given vector (column)\u003c/span\u003e\nfixNa \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003eattribute\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n  ifelse\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eis.na\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003eattribute\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e mean\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003eattribute\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e na.rm \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eTRUE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e attribute\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\n\n\u003cspan class=\"hljs-comment\"\u003e# Now we can re-use the same function to fix NAs in both variables\u003c/span\u003e\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eAge \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e fixNa\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eAge\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eIncome \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e fixNa\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eIncome\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\n\nfactorCategories \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eattr\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e zeroBased \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eFALSE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e# we can reuse the same result\u003c/span\u003e\n  uniqueValues \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e unique\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eattr\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n  factor\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-built_in\"\u003eattr\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e uniqueValues\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e seq\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003eifelse\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003ezeroBased\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \n                                 ifelse\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003ezeroBased\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003elength\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003euniqueValues\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e-\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003elength\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003euniqueValues\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eCountry \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e factorCategories\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eCountry\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eGender \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e factorCategories\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eGender\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eTRUE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\ndata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eMarried \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e factorCategories\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eMarried\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eTRUE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\nlibrary\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003ecaTools\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Load caTools which will help to split the data set\u003c/span\u003e\nset.seed\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e12345\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# Creating the input vector which will help the subset function to decide the set of a row\u003c/span\u003e\nsp \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e sample.split\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-operator\"\u003e$\u003c/span\u003eMarried\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e SplitRatio \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0.8\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# This sets the ratio of the training set\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# Now we can subset using split vector\u003c/span\u003e\ntrainingSet \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e subset\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e sp \u003cspan class=\"hljs-operator\"\u003e==\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eTRUE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Include if the value is TRUE\u003c/span\u003e\ntestSet \u003cspan class=\"hljs-operator\"\u003e\u0026lt;-\u003c/span\u003e subset\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003edata\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e sp \u003cspan class=\"hljs-operator\"\u003e==\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eFALSE\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e# Include if the value is FALSE\u003c/span\u003e\n\n\ntrainingSet\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ec\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e scale\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003etrainingSet\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ec\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\ntestSet\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ec\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e scale\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003etestSet\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003ec\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e"},"page":"Post","topTags":["programming","aws","web","machineLearning","react","javascript","dataScience","typescript","r","csharp"],"relatedPosts":[{"title":"Simple Linear Regression With R","tags":["machineLearning","dataScience","r"],"fullUrl":"https://rusith.me/blog/simple-linear-regression-with-r","date":"Tue, May 7, 2019","description":"Regression models are used to predict real values such as salary, spending, income. Simple linear regression is a model of regression which is used to identify the correlation between two variables and possibly predict the dependent variable by using the independent variable.This will enable us to establish a relationship between two attributes such as Income and Spending and we can use what we know about the relationship to forecast unobserved values.","banner":null},{"title":"Multiple Linear Regression With Python","tags":["machineLearning","dataScience","python"],"fullUrl":"https://rusith.me/blog/multiple-linear-regression-python","date":"Tue, Jun 18, 2019","description":"Regression is a machine learning model which we can use to predict values by using previously observed data. In simple linear regression, we had to use only one independent variable for the prediction. but in the real world often a dependent variable is dependent upon several variables.","banner":null},{"title":"The Essence of Machine Learning","tags":["machineLearning"],"fullUrl":"https://rusith.me/blog/the-essence-of-machine-learning","date":"Tue, May 7, 2019","description":"Machine learning can significantly improve the performance of a system. This could be very beneficial for businesses or any other application. So if someone comes to you and suggest you a business idea that involves machine learning, how do you decide that a machine learning implementation is feasible with the particular idea?","banner":null}]},"__N_SSG":true},"page":"/[[...path]]","query":{"path":["2019","05","04","data-preprocessing-with-r"]},"buildId":"PaoTT2YDvwYY_jbobaNoC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>