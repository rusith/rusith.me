<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link href="https://gmpg.org/xfn/11" rel="profile"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-5GDZWWBRFX"></script><script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-5GDZWWBRFX');
                </script><link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://rusith.me/icons/favicon-144-image.png"/><link rel="shortcut icon" href="https://rusith.me/favicon.ico"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/><meta property="og:image" content="https://rusith.me/images/banner/default.jpg"/><meta property="twitter:creator" content="@rusith_"/><meta name="robots" content="index,follow"/><title>Genie - An Efficient Way to Access Data</title><meta name="description" content="Almost all the time we need a database to run our apps. most of the time, these databases are relational databases. as everyone knows we must use SQL to access these databases. writing an SQL query for every database call is a pain and no one does that these days. instead, we use something called ORMs (Object Relational Mappers). we can use an ORM to access databases without writing SQL or worrying about mapping relations to objects. there are a lot of ORM implementations for every popular language."/><link rel="canonical" href="https://rusith.me/blog/genie-an-efficient-way-to-access-data"/><meta property="og:title" content="Genie - An Efficient Way to Access Data"/><meta property="og:url" content="https://rusith.me/blog/genie-an-efficient-way-to-access-data"/><meta property="og:description" content="Almost all the time we need a database to run our apps. most of the time, these databases are relational databases. as everyone knows we must use SQL to access these databases. writing an SQL query for every database call is a pain and no one does that these days. instead, we use something called ORMs (Object Relational Mappers). we can use an ORM to access databases without writing SQL or worrying about mapping relations to objects. there are a lot of ORM implementations for every popular language."/><meta property="og:site_name" content="Rusith&#x27;s blog"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="blog"/><meta property="twitter:description" content="Accessing data on a realational database using Genie"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Genie - An Efficient Way to Access Data"/><meta name="twitter:image" content="https://rusith.me/images/banner/default.jpg"/><meta name="twitter:site" content="@rusith_"/><script type="application/ld+json">{"@type":"BlogPosting","@context":"https://schema.org","headline":"Genie - An Efficient Way to Access Data","author":{"@type":"Person","name":"Shanaka Rusith","url":"https://rusith.me/about"},"keywords":"programming,csharp,genie,rdbms","url":"https://rusith.me/blog/genie-an-efficient-way-to-access-data","description":"Almost all the time we need a database to run our apps. most of the time, these databases are relational databases. as everyone knows we must use SQL to access these databases. writing an SQL query for every database call is a pain and no one does that these days. instead, we use something called ORMs (Object Relational Mappers). we can use an ORM to access databases without writing SQL or worrying about mapping relations to objects. there are a lot of ORM implementations for every popular language.","copyrightHolder":{"@type":"Person","name":"Shanaka Rusith","url":"https://rusith.me/about"},"copyrightYear":"2021","mainEntityOfPage":{"@type":"WebPage","@id":"https://rusith.me"},"publisher":{"@type":"Organization","name":"Shanaka Rusith","url":"https://rusith.me/about","logo":{"@type":"ImageObject","url":"https://rusith.me/images/rusith/picture.jpg"}},"image":"https://rusith.me/images/banner/default.jpg","about":"Accessing data on a realational database using Genie","datePublished":"Thu Mar 15 2018 00:00:00 GMT+0000 (Coordinated Universal Time)","dateModified":"Thu Mar 15 2018 00:00:00 GMT+0000 (Coordinated Universal Time)"}</script><meta name="next-head-count" content="27"/><link rel="preload" href="/_next/static/css/7220332d6168fb06.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7220332d6168fb06.css" data-n-g=""/><link rel="preload" href="/_next/static/css/0662676664ee362f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0662676664ee362f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-05c0aa1e498fcb8c.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f89480c30d9a5d02.js" defer=""></script><script src="/_next/static/chunks/947-277c090e7d6803d0.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...path%5D%5D-d5cf2aa81a49e144.js" defer=""></script><script src="/_next/static/PaoTT2YDvwYY_jbobaNoC/_buildManifest.js" defer=""></script><script src="/_next/static/PaoTT2YDvwYY_jbobaNoC/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="Sidebar_r__IEuUi"><div class="Sidebar_sticky__RE23V"><div class="Sidebar_about__s_kM6"><h2><a href="/">Rusith.me</a></h2><div class="Sidebar_socialButtons__XcH6p"><a href="https://www.linkedin.com/in/shanaka-rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="LinkedIn icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MTYsMzJIMzEuOUMxNC4zLDMyLDAsNDYuNSwwLDY0LjN2MzgzLjRDMCw0NjUuNSwxNC4zLDQ4MCwzMS45LDQ4MEg0MTZjMTcuNiwwLDMyLTE0LjUsMzItMzIuM1Y2NC4zCglDNDQ4LDQ2LjUsNDMzLjYsMzIsNDE2LDMyeiBNMTM1LjQsNDE2SDY5VjIwMi4yaDY2LjVWNDE2SDEzNS40eiBNMTAyLjIsMTczYy0yMS4zLDAtMzguNS0xNy4zLTM4LjUtMzguNVM4MC45LDk2LDEwMi4yLDk2CgljMjEuMiwwLDM4LjUsMTcuMywzOC41LDM4LjVDMTQwLjcsMTU1LjgsMTIzLjUsMTczLDEwMi4yLDE3M3ogTTM4NC4zLDQxNmgtNjYuNFYzMTJjMC0yNC44LTAuNS01Ni43LTM0LjUtNTYuNwoJYy0zNC42LDAtMzkuOSwyNy0zOS45LDU0LjlWNDE2aC02Ni40VjIwMi4yaDYzLjd2MjkuMmgwLjljOC45LTE2LjgsMzAuNi0zNC41LDYyLjktMzQuNWM2Ny4yLDAsNzkuNyw0NC4zLDc5LjcsMTAxLjlWNDE2eiIvPgo8L3N2Zz4K"/></a><a href="https://github.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Github icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMzUyYzI2LjUsMCw0OC0yMS41LDQ4LTQ4VjgwCglDNDQ4LDUzLjUsNDI2LjUsMzIsNDAwLDMyeiBNMjc3LjMsNDE1LjdjLTguNCwxLjUtMTEuNS0zLjctMTEuNS04YzAtNS40LDAuMi0zMywwLjItNTUuM2MwLTE1LjYtNS4yLTI1LjUtMTEuMy0zMC43CgljMzctNC4xLDc2LTkuMiw3Ni03My4xYzAtMTguMi02LjUtMjcuMy0xNy4xLTM5YzEuNy00LjMsNy40LTIyLTEuNy00NWMtMTMuOS00LjMtNDUuNywxNy45LTQ1LjcsMTcuOWMtMTMuMi0zLjctMjcuNS01LjYtNDEuNi01LjYKCXMtMjguNCwxLjktNDEuNiw1LjZjMCwwLTMxLjgtMjIuMi00NS43LTE3LjljLTkuMSwyMi45LTMuNSw0MC42LTEuNyw0NWMtMTAuNiwxMS43LTE1LjYsMjAuOC0xNS42LDM5YzAsNjMuNiwzNy4zLDY5LDc0LjMsNzMuMQoJYy00LjgsNC4zLTkuMSwxMS43LTEwLjYsMjIuM2MtOS41LDQuMy0zMy44LDExLjctNDguMy0xMy45Yy05LjEtMTUuOC0yNS41LTE3LjEtMjUuNS0xNy4xYy0xNi4yLTAuMi0xLjEsMTAuMi0xLjEsMTAuMgoJYzEwLjgsNSwxOC40LDI0LjIsMTguNCwyNC4yYzkuNywyOS43LDU2LjEsMTkuNyw1Ni4xLDE5LjdjMCwxMy45LDAuMiwzNi41LDAuMiw0MC42YzAsNC4zLTMsOS41LTExLjUsOAoJYy02Ni0yMi4xLTExMi4yLTg0LjktMTEyLjItMTU4LjNjMC05MS44LDcwLjItMTYxLjUsMTYyLTE2MS41UzM4OCwxNjUuNiwzODgsMjU3LjRDMzg4LjEsMzMwLjgsMzQzLjMsMzkzLjcsMjc3LjMsNDE1Ljd6CgkgTTE3OS4yLDM1NC42Yy0xLjksMC40LTMuNy0wLjQtMy45LTEuN2MtMC4yLTEuNSwxLjEtMi44LDMtMy4yYzEuOS0wLjIsMy43LDAuNiwzLjksMS45QzE4Mi41LDM1Mi45LDE4MS4yLDM1NC4yLDE3OS4yLDM1NC42CglMMTc5LjIsMzU0LjZ6IE0xNjkuNywzNTMuN2MwLDEuMy0xLjUsMi40LTMuNSwyLjRjLTIuMiwwLjItMy43LTAuOS0zLjctMi40YzAtMS4zLDEuNS0yLjQsMy41LTIuNAoJQzE2Ny45LDM1MS4xLDE2OS43LDM1Mi4yLDE2OS43LDM1My43eiBNMTU2LDM1Mi42Yy0wLjQsMS4zLTIuNCwxLjktNC4xLDEuM2MtMS45LTAuNC0zLjItMS45LTIuOC0zLjJjMC40LTEuMywyLjQtMS45LDQuMS0xLjUKCUMxNTUuMiwzNDkuOCwxNTYuNSwzNTEuMywxNTYsMzUyLjZMMTU2LDM1Mi42eiBNMTQzLjcsMzQ3LjJjLTAuOSwxLjEtMi44LDAuOS00LjMtMC42Yy0xLjUtMS4zLTEuOS0zLjItMC45LTQuMQoJYzAuOS0xLjEsMi44LTAuOSw0LjMsMC42QzE0NC4xLDM0NC40LDE0NC42LDM0Ni40LDE0My43LDM0Ny4yeiBNMTM0LjYsMzM4LjFjLTAuOSwwLjYtMi42LDAtMy43LTEuNXMtMS4xLTMuMiwwLTMuOQoJYzEuMS0wLjksMi44LTAuMiwzLjcsMS4zQzEzNS43LDMzNS41LDEzNS43LDMzNy4zLDEzNC42LDMzOC4xeiBNMTI4LjEsMzI4LjRjLTAuOSwwLjktMi40LDAuNC0zLjUtMC42Yy0xLjEtMS4zLTEuMy0yLjgtMC40LTMuNQoJYzAuOS0wLjksMi40LTAuNCwzLjUsMC42QzEyOC44LDMyNi4yLDEyOSwzMjcuNywxMjguMSwzMjguNHogTTEyMS40LDMyMWMtMC40LDAuOS0xLjcsMS4xLTIuOCwwLjRjLTEuMy0wLjYtMS45LTEuNy0xLjUtMi42CgljMC40LTAuNiwxLjUtMC45LDIuOC0wLjRDMTIxLjIsMzE5LjEsMTIxLjgsMzIwLjIsMTIxLjQsMzIxeiIvPgo8L3N2Zz4K"/></a><a href="https://gitlab.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Gitlab icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUuMiwyNC45Yy0zLjEtOC45LTE1LjctOC45LTE4LjksMEwyOS44LDE5OS43aDEzMkMxNjEuNywxOTkuNywxMDUuMiwyNC45LDEwNS4yLDI0Ljl6IE0wLjksMjg3LjcKCWMtMi42LDgsMC4zLDE2LjksNy4xLDIybDI0Ny45LDE4NGwtMjI2LjItMjk0TDAuOSwyODcuN3ogTTE2MS43LDE5OS43bDk0LjMsMjk0bDk0LjMtMjk0SDE2MS43eiBNNTExLjEsMjg3LjdsLTI4LjgtODhMMjU2LDQ5My43CglsMjQ3LjktMTg0QzUxMC44LDMwNC42LDUxMy42LDI5NS43LDUxMS4xLDI4Ny43eiBNNDI1LjcsMjQuOWMtMy4xLTguOS0xNS43LTguOS0xOC45LDBsLTU2LjYsMTc0LjhoMTMyTDQyNS43LDI0Ljl6Ii8+Cjwvc3ZnPgo="/></a><a href="http://goodreads.com/rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="GoodReads icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yOTkuOSwxOTEuMmM1LjEsMzcuMy00LjcsNzktMzUuOSwxMDAuN2MtMjIuMywxNS41LTUyLjgsMTQuMS03MC44LDUuN2MtMzcuMS0xNy4zLTQ5LjUtNTguNi00Ni44LTk3LjIKCWM0LjMtNjAuOSw0MC45LTg3LjksNzUuMy04Ny41QzI2OC42LDExMi43LDI5My41LDE0NC43LDI5OS45LDE5MS4yTDI5OS45LDE5MS4yeiBNNDQ4LDg4djMzNmMwLDMwLjktMjUuMSw1Ni01Niw1Nkg1NgoJYy0zMC45LDAtNTYtMjUuMS01Ni01NlY4OGMwLTMwLjksMjUuMS01Niw1Ni01NmgzMzZDNDIyLjksMzIsNDQ4LDU3LjEsNDQ4LDg4eiBNMzMwLDMxMy4yYzAsMC0wLjEtMzQtMC4xLTIxNy4zaC0yOXY0MC4zCgljLTAuOCwwLjMtMS4yLTAuNS0xLjYtMS4yYy05LjYtMjAuNy0zNS45LTQ2LjMtNzYtNDZjLTUxLjksMC40LTg3LjIsMzEuMi0xMDAuNiw3Ny44Yy00LjMsMTQuOS01LjgsMzAuMS01LjUsNDUuNgoJYzEuNyw3Ny45LDQ1LjEsMTE3LjgsMTEyLjQsMTE1LjJjMjguOS0xLjEsNTQuNS0xNyw2OS00NS4yYzAuNS0xLDEuMS0xLjksMS43LTIuOWMwLjIsMC4xLDAuNCwwLjEsMC42LDAuMgoJYzAuMywzLjgsMC4yLDMwLjcsMC4xLDM0LjVjLTAuMiwxNC44LTIsMjkuNS03LjIsNDMuNWMtNy44LDIxLTIyLjMsMzQuNy00NC41LDM5LjVjLTE3LjgsMy45LTM1LjYsMy44LTUzLjItMS4yCgljLTIxLjUtNi4xLTM2LjUtMTktNDEuMS00MS44Yy0wLjMtMS42LTEuMy0xLjMtMi4zLTEuM2gtMjYuOGMwLjgsMTAuNiwzLjIsMjAuMyw4LjUsMjkuMmMyNC4yLDQwLjUsODIuNyw0OC41LDEyOC4yLDM3LjQKCUMzMTIuNSw0MDcuMiwzMjkuOSwzNjQuNiwzMzAsMzEzLjJMMzMwLDMxMy4yeiIvPgo8L3N2Zz4K"/></a><a href="https://twitter.com/rusith_" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Twitter icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMzUyYzI2LjUsMCw0OC0yMS41LDQ4LTQ4VjgwCglDNDQ4LDUzLjUsNDI2LjUsMzIsNDAwLDMyeiBNMzUxLjEsMTkwLjhjMC4yLDIuOCwwLjIsNS43LDAuMiw4LjVjMCw4Ni43LTY2LDE4Ni42LTE4Ni42LDE4Ni42Yy0zNy4yLDAtNzEuNy0xMC44LTEwMC43LTI5LjQKCWM1LjMsMC42LDEwLjQsMC44LDE1LjgsMC44YzMwLjcsMCw1OC45LTEwLjQsODEuNC0yOGMtMjguOC0wLjYtNTMtMTkuNS02MS4zLTQ1LjVjMTAuMSwxLjUsMTkuMiwxLjUsMjkuNi0xLjIKCWMtMzAtNi4xLTUyLjUtMzIuNS01Mi41LTY0LjR2LTAuOGM4LjcsNC45LDE4LjksNy45LDI5LjYsOC4zYy0xOC4zLTEyLjItMjkuMi0zMi43LTI5LjItNTQuNmMwLTEyLjIsMy4yLTIzLjQsOC45LTMzLjEKCWMzMi4zLDM5LjgsODAuOCw2NS44LDEzNS4yLDY4LjZjLTkuMy00NC41LDI0LTgwLjYsNjQtODAuNmMxOC45LDAsMzUuOSw3LjksNDcuOSwyMC43YzE0LjgtMi44LDI5LTguMyw0MS42LTE1LjgKCWMtNC45LDE1LjItMTUuMiwyOC0yOC44LDM2LjFjMTMuMi0xLjQsMjYtNS4xLDM3LjgtMTAuMkMzNzUuMSwxNjkuOSwzNjMuOSwxODEuNSwzNTEuMSwxOTAuOHoiLz4KPC9zdmc+Cg=="/></a><a href="https://www.facebook.com/shanaka.rusith" class="Sidebar_socialButton___U_F2" target="_blank" rel="noreferrer"><img alt="Facebook icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMzJINDhDMjEuNSwzMiwwLDUzLjUsMCw4MHYzNTJjMCwyNi41LDIxLjUsNDgsNDgsNDhoMTM3LjNWMzI3LjdoLTYzVjI1Nmg2M3YtNTQuNgoJYzAtNjIuMiwzNy05Ni41LDkzLjctOTYuNWMyNy4xLDAsNTUuNSw0LjgsNTUuNSw0Ljh2NjFoLTMxLjNjLTMwLjgsMC00MC40LDE5LjEtNDAuNCwzOC43VjI1Nmg2OC44bC0xMSw3MS43aC01Ny44VjQ4MEg0MDAKCWMyNi41LDAsNDgtMjEuNSw0OC00OFY4MEM0NDgsNTMuNSw0MjYuNSwzMiw0MDAsMzJ6Ii8+Cjwvc3ZnPgo="/></a></div><p>A blog from a tech and art enthusiast</p></div><div class="Sidebar_nav__CTYKS"><div class="Sidebar_tagWrapper__w460D"><a href="/tag/programming/"><span class="Sidebar_tag__mAo8y">#<!-- -->programming</span></a><a href="/tag/aws/"><span class="Sidebar_tag__mAo8y">#<!-- -->aws</span></a><a href="/tag/web/"><span class="Sidebar_tag__mAo8y">#<!-- -->web</span></a><a href="/tag/machineLearning/"><span class="Sidebar_tag__mAo8y">#<!-- -->machineLearning</span></a><a href="/tag/react/"><span class="Sidebar_tag__mAo8y">#<!-- -->react</span></a><a href="/tag/javascript/"><span class="Sidebar_tag__mAo8y">#<!-- -->javascript</span></a><a href="/tag/dataScience/"><span class="Sidebar_tag__mAo8y">#<!-- -->dataScience</span></a><a href="/tag/typescript/"><span class="Sidebar_tag__mAo8y">#<!-- -->typescript</span></a><a href="/tag/r/"><span class="Sidebar_tag__mAo8y">#<!-- -->r</span></a><a href="/tag/csharp/"><span class="Sidebar_tag__mAo8y">#<!-- -->csharp</span></a></div></div></div></div><div class="comp_content__73ns2"><div><h1>Genie - An Efficient Way to Access Data</h1><div class="Post_tags__HKWUb"><a class="Post_tag__5GXoX" href="https://rusith.me/tag/programming">#<!-- -->programming</a><a class="Post_tag__5GXoX" href="https://rusith.me/tag/csharp">#<!-- -->csharp</a><a class="Post_tag__5GXoX" href="https://rusith.me/tag/genie">#<!-- -->genie</a><a class="Post_tag__5GXoX" href="https://rusith.me/tag/rdbms">#<!-- -->rdbms</a></div><span class="Post_date__h8Of6">Thu, Mar 15, 2018</span><div><p>Almost all the time we need a database to run our apps. most of the time, these databases are relational databases. as everyone knows we must use SQL to access these databases. writing an SQL query for every database call is a pain and no one does that these days. instead, we use something called ORMs (Object Relational Mappers). we can use an ORM to access databases without writing SQL or worrying about mapping relations to objects. there are a lot of ORM implementations for every popular language.</p>
<p>Genie is a simple code generator which generates an ORM with all essential functionalities for you. You can use Genie to create a dot Net class library and use it as a layer between your data source and application. usually, this type of implementation is called a Data Access Layer as it provides an API to access a database. You can write your database logic in this layer. and the code generated by Genie will help you to do that.</p>
<h2 id="installinggenie">Installing Genie</h2>
<p>Genie is a free and open source software. you can download the latest release for Linux/ Windows or Mac from <a href="https://github.com/Divicent/Genie">here</a></p>
<p>After downloading, extract the zip to some folder and add the path to the folder to the PATH global variable. for Linux users make the GenieCLI file executable by running the command <code>chmod +x GenieCLI</code></p>
<h2 id="settingup">Setting Up</h2>
<p>To use Genie on a database you should create a configuration file. this configuration file specifies all the configuration that Genie needs to generate the code. For this demonstration, I will use a MySql database called bestappdata</p>
<pre><code class="hljs json language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;connectionString&quot;</span><span class="hljs-punctuation">:</span>
    <span class="hljs-string">&quot;Server=localhost;Database=bestappdata;UID=root;Password=password&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;projectPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/home/rusith/Documents/Projects/BestAppEver/BackEnd/BestAppEver.DAL&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;baseNamespace&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;BestAppEver.DAL&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;ProjectFile&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;BestAppEver.DAL.csproj&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;dbms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;mysql&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;schema&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;animus&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;abstractModelsLocation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./../BestAppEver/Models/Data&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;abstractModelsNamespace&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;BestAppEver.Models.Data&quot;</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>This configuration file should be named as <code>genieSettings.json</code> and can put anywhere in your project. but its good to put this file inside the target library’s location. Genie uses this to fetch database metadata and generate the code. the <code>projectPath</code> is the full path to the project folder</p>
<p>Below is my folder structure for this demonstration. I have put my <code>genieSettings.json</code> file inside the <code>BestAppEver.DAL</code> folder.</p>
<pre><code>├── BestAppEver
│   ├── Modules
├── BestAppEver.API
│   ├── Controllers
├── BestAppEver.BL
│   ├── Services
├── BestAppEver.DAL
│   ├── Modules
│   └── Providers
└── BestAppEver.UnitTests
|   ├── Providers
├── bin
│   └── Debug
│       └── netstandard2.0
├── Dapper
├── Infrastructure
│   ├── Actions
│   │   ├── Abstract
│   │   └── Concrete
│   ├── Collections
│   │   ├── Abstract
│   │   └── Concrete
│   ├── Enum
│   ├── Filters
│   │   ├── Abstract
│   │   └── Concrete
│   ├── Interfaces
│   ├── Models
│   │   ├── Abstract
│   │   │   └── Context
│   │   └── Concrete
│   │       └── Context
│   └── Repositories
├── Modules
├── obj
│   └── Debug
│       └── netstandard2.0
└── Providers
</code></pre>
<h2 id="generatingthecode">Generating the Code</h2>
<p>go to the directory where the genieSettings.json file exists, run GenieCLI executable by executing GenieCLI in the terminal. we can do this because we have put Genie executable’s folder path to the path variable. otherwise you have to specify full path to the <code>GenieCLI</code> executable which is in the zip file you have downloaded.</p>
<p>After generating , the BestAppEver.DAL folder will have two new root folders. Will look like below</p>
<pre><code>├── Dapper
├── Infrastructure
│   ├── Actions
│   │   ├── Abstract
│   │   └── Concrete
│   ├── Collections
│   │   ├── Abstract
│   │   └── Concrete
│   ├── Enum
│   ├── Filters
│   │   ├── Abstract
│   │   └── Concrete
│   ├── Interfaces
│   ├── Models
│   │   ├── Abstract
│   │   │   └── Context
│   │   └── Concrete
│   │       └── Context
│   └── Repositories
├── Modules
└── Providers
</code></pre>
<h2 id="writingcode">Writing Code</h2>
<p>In order to continue, you need one thing. you have to implement the <code>IConnectionStringProvider</code> in order to user the <code>DBContext</code>. create a class for <code>IConnectionStringProvider</code> and pass an instance to the <code>DBContext</code> when ever needed.</p>
<pre><code class="hljs cs language-cs"><span class="hljs-keyword">using</span> BestAppEver.DAL.Infrastructure.Interfaces;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">BestAppEver.DAL</span>
{
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConnectionProvider</span> : <span class="hljs-title">IConnectionStringProvider</span>
  {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetConnectionString</span>()</span>
    {
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Server=localhost;Database=bestappdata;UID=root;Password=password&quot;</span>; <span class="hljs-comment">// Should be taken from a configuration file </span>
    }
  }
}
</code></pre>
<p>You should initialize <code>DBContext</code> only once .you should keep this instance in a global scope. for this demonstration i use .Net core DI to setup my dependencies.</p>
<pre><code class="hljs cs language-cs"><span class="hljs-keyword">using</span> BestAppEver.Injection;
<span class="hljs-keyword">using</span> BestAppEver.DAL.Infrastructure.Interfaces;
<span class="hljs-keyword">using</span> BestAppEver.DAL.Infrastructure;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">BestAppEver.DAL.Modules</span>
{
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DataAccessModule</span> : <span class="hljs-title">IModule</span>
  {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Bootstrap</span>(<span class="hljs-params">IDependencyStore store</span>)</span>
    {
      store.Singleton&lt;IConnectionStringProvider, ConnectionProvider&gt;();
      store.Singleton&lt;IDBContext, DBContext&gt;();
    }
  }
}
</code></pre>
<p>I use providers to wrap my database code.</p>
<pre><code class="hljs cs language-cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> System.Threading.Tasks;
<span class="hljs-keyword">using</span> BestAppEver.DAL.Infrastructure.Interfaces;
<span class="hljs-keyword">using</span> BestAppEver.DAL.Infrastructure.Models.Concrete;
<span class="hljs-keyword">using</span> BestAppEver.Models.Data;
<span class="hljs-keyword">using</span> BestAppEver.Providers.Data;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">BestAppEver.DAL.Providers</span>
{
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserProvider</span> : <span class="hljs-title">IUserProvider</span>
  {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IDBContext _context;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">UserProvider</span>(<span class="hljs-params">IDBContext context</span>)</span>
    {
      _context = context;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">Add</span>(<span class="hljs-params">IUser user</span>)</span>
    {
      <span class="hljs-keyword">var</span> unit = _context.Unit();
      unit.UserRepository.Add(user);
      <span class="hljs-keyword">await</span> unit.CommitAsync();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IUser&gt; <span class="hljs-title">Get</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id</span>)</span>
    {
      <span class="hljs-keyword">var</span> unit = _context.Unit();
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> unit.UserRepository.GetByKeyAsync(id);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> IEnumerable&lt;IUser&gt; <span class="hljs-title">GetAll</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> skip, <span class="hljs-built_in">int</span> take, <span class="hljs-built_in">string</span> serchText</span>)</span>
    {
      <span class="hljs-keyword">var</span> getter = _context.Unit().UserRepository.Get();
      <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">string</span>.IsNullOrWhiteSpace(serchText))
      {
        getter.Where.FirstName.Contains(serchText)
          .Or.LastName.Contains(serchText);
      }

      getter.Skip(skip).Take(take);

      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> getter.QueryAsync();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IUser&gt; <span class="hljs-title">GetAsync</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id</span>)</span>
    {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> _context.Unit().UserRepository.GetByKeyAsync(id);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IUser&gt; <span class="hljs-title">getByEmail</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> email</span>)</span>
    {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> _context.Unit().UserRepository.Get()
        .Where.Email.EqualsTo(email).Filter().FirstOrDefaultAsync();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">Update</span>(<span class="hljs-params">IUser user</span>)</span>
    {
      <span class="hljs-keyword">await</span> (user  <span class="hljs-keyword">as</span> User).DatabaseUnitOfWork.CommitAsync();
    }
  }
}
</code></pre>
<p>This could have problems with some databases as this is in development and has only tested in Windows 10, Mac OSX Sierra, Ubuntu 16.04. You can contribute to the code through <strong>GitHub</strong></p></div></div><div class="Post_related__V0k3K"><h2>Related Posts</h2><ul class="Post_relatedPosts__co9O7"><li><h3><a href="https://rusith.me/blog/one-method-different-implementations">One Method, Different Implementations<small>Sat, Aug 4, 2018</small></a></h3></li><li><h3><a href="https://rusith.me/blog/deploy-app-on-aws-ecs-with-cdk-auto-scaling-and-load-balancing">Deploying an app on AWS ECS with CDK<small>Wed, Feb 15, 2023</small></a></h3></li><li><h3><a href="https://rusith.me/blog/testing-react-redux-connected-components-using-jest">Testing Redux Connected React Components Using Jest<small>Mon, Apr 27, 2020</small></a></h3></li></ul></div><div id="disqus_thread"></div></div><div class="sbuttons"><a href="https://www.facebook.com/sharer/sharer.php?u=https://rusith.me/blog/genie-an-efficient-way-to-access-data" target="_blank" class="sbutton fb" title="Share on Facebook" rel="noreferrer"><img alt="Facebook icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzMjAgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMjAgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNzkuMSwyODhsMTQuMi05Mi43aC04OC45di02MC4xYzAtMjUuMywxMi40LTUwLjEsNTIuMi01MC4xaDQwLjRWNi4zYzAsMC0zNi43LTYuMy03MS43LTYuMwoJYy03My4yLDAtMTIxLjEsNDQuNC0xMjEuMSwxMjQuN3Y3MC42SDIyLjlWMjg4aDgxLjR2MjI0aDEwMC4yVjI4OEgyNzkuMXoiLz4KPC9zdmc+Cg=="/></a><a href="https://twitter.com/intent/tweet?text=https://rusith.me/blog/genie-an-efficient-way-to-access-data" target="_blank" class="sbutton twitt" title="Share on Twitter" rel="noreferrer"><img alt="Twitter icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00NTkuNCwxNTEuN2MwLjMsNC41LDAuMyw5LjEsMC4zLDEzLjZjMCwxMzguNy0xMDUuNiwyOTguNi0yOTguNiwyOTguNmMtNTkuNSwwLTExNC43LTE3LjItMTYxLjEtNDcuMQoJYzguNCwxLDE2LjYsMS4zLDI1LjMsMS4zYzQ5LjEsMCw5NC4yLTE2LjYsMTMwLjMtNDQuOGMtNDYuMS0xLTg0LjgtMzEuMi05OC4xLTcyLjhjNi41LDEsMTMsMS42LDE5LjgsMS42YzkuNCwwLDE4LjgtMS4zLDI3LjYtMy42CgljLTQ4LjEtOS43LTg0LjEtNTItODQuMS0xMDN2LTEuM2MxNCw3LjgsMzAuMiwxMi43LDQ3LjQsMTMuM2MtMjguMy0xOC44LTQ2LjgtNTEtNDYuOC04Ny40YzAtMTkuNSw1LjItMzcuNCwxNC4zLTUzCglDODcuNCwxMzAuOSwxNjUsMTcyLjUsMjUyLjEsMTc3LjFjLTEuNi03LjgtMi42LTE1LjktMi42LTI0YzAtNTcuOCw0Ni44LTEwNC45LDEwNC45LTEwNC45YzMwLjIsMCw1Ny41LDEyLjcsNzYuNywzMy4xCgljMjMuNy00LjUsNDYuNS0xMy4zLDY2LjYtMjUuM2MtNy44LDI0LjQtMjQuNCw0NC44LTQ2LjEsNTcuOGMyMS4xLTIuMyw0MS42LTguMSw2MC40LTE2LjJDNDk3LjcsMTE4LjMsNDc5LjgsMTM2LjgsNDU5LjQsMTUxLjcKCUw0NTkuNCwxNTEuN3oiLz4KPC9zdmc+Cg=="/></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://rusith.me/blog/genie-an-efficient-way-to-access-data&amp;title=&amp;summary=&amp;source=" target="_blank" class="sbutton linkedin" title="Share on Linkedin" rel="noreferrer"><img alt="LinkedIn icon" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDAuMyw0NDhINy40VjE0OC45aDkyLjlWNDQ4eiBNNTMuOCwxMDguMUMyNC4xLDEwOC4xLDAsODMuNSwwLDUzLjhDMCwyNC4xLDI0LjEsMCw1My44LDAKCWMyOS43LDAsNTMuOCwyNC4xLDUzLjgsNTMuOEMxMDcuNiw4My41LDgzLjUsMTA4LjEsNTMuOCwxMDguMXogTTQ0Ny45LDQ0OGgtOTIuN1YzMDIuNGMwLTM0LjctMC43LTc5LjItNDguMy03OS4yCgljLTQ4LjMsMC01NS43LDM3LjctNTUuNyw3Ni43VjQ0OGgtOTIuOFYxNDguOWg4OS4xdjQwLjhoMS4zYzEyLjQtMjMuNSw0Mi43LTQ4LjMsODcuOS00OC4zYzk0LDAsMTExLjMsNjEuOSwxMTEuMywxNDIuM1Y0NDhINDQ3Ljl6CgkiLz4KPC9zdmc+Cg=="/></a><a target="_blank" class="sbutton mainsbutton"><img alt="Share button" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NDggNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zNTIsMzIwYy0yNS42LDAtNDguOSwxMC02Ni4xLDI2LjRsLTk4LjMtNjEuNWM1LjktMTguOCw1LjktMzkuMSwwLTU3LjhsOTguMy02MS41CglDMzAzLjEsMTgyLDMyNi40LDE5MiwzNTIsMTkyYzUzLDAsOTYtNDMsOTYtOTZTNDA1LDAsMzUyLDBzLTk2LDQzLTk2LDk2YzAsOS44LDEuNSwxOS42LDQuNCwyOC45bC05OC4zLDYxLjUKCUMxNDQuOSwxNzAsMTIxLjYsMTYwLDk2LDE2MGMtNTMsMC05Niw0My05Niw5NnM0Myw5Niw5Niw5NmMyNS42LDAsNDguOS0xMCw2Ni4xLTI2LjRsOTguMyw2MS41Yy0yLjksOS40LTQuNCwxOS4xLTQuNCwyOC45CgljMCw1Myw0Myw5Niw5Niw5NnM5Ni00Myw5Ni05NlM0MDUsMzIwLDM1MiwzMjBMMzUyLDMyMHogTTM1Miw0OGMyNi41LDAsNDgsMjEuNSw0OCw0OHMtMjEuNSw0OC00OCw0OHMtNDgtMjEuNS00OC00OAoJUzMyNS41LDQ4LDM1Miw0OHogTTk2LDMwNGMtMjYuNSwwLTQ4LTIxLjUtNDgtNDhzMjEuNS00OCw0OC00OHM0OCwyMS41LDQ4LDQ4UzEyMi41LDMwNCw5NiwzMDR6IE0zNTIsNDY0Yy0yNi41LDAtNDgtMjEuNS00OC00OAoJczIxLjUtNDgsNDgtNDhzNDgsMjEuNSw0OCw0OFMzNzguNSw0NjQsMzUyLDQ2NHoiLz4KPC9zdmc+Cg=="/></a></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"fileName":"2018-03-20-genie-an-efficient-way-to-access-data.md","fullPath":"/home/runner/work/rusith.me/rusith.me/modules/blog/posts/2018-03-20-genie-an-efficient-way-to-access-data.md","title":"Genie - An Efficient Way to Access Data","tags":["programming","csharp","genie","rdbms"],"comments":true,"description":"Almost all the time we need a database to run our apps. most of the time, these databases are relational databases. as everyone knows we must use SQL to access these databases. writing an SQL query for every database call is a pain and no one does that these days. instead, we use something called ORMs (Object Relational Mappers). we can use an ORM to access databases without writing SQL or worrying about mapping relations to objects. there are a lot of ORM implementations for every popular language.","dateCreated":"Thu Mar 15 2018 00:00:00 GMT+0000 (Coordinated Universal Time)","dateModified":"Thu Mar 15 2018 00:00:00 GMT+0000 (Coordinated Universal Time)","datePublished":"Thu Mar 15 2018 00:00:00 GMT+0000 (Coordinated Universal Time)","dependencies":".Net","about":"Accessing data on a realational database using Genie","path":"/blog/genie-an-efficient-way-to-access-data","oldPath":"/2018/03/20/genie-an-efficient-way-to-access-data","dateCreatedFormatted":"Thu, Mar 15, 2018","fullUrl":"https://rusith.me/blog/genie-an-efficient-way-to-access-data","fileContent":"---\ntitle: Genie - An Efficient Way to Access Data\ntags: programming csharp genie rdbms\ncomments: true\ndescription: Almost all the time we need a database to run our apps. most of the time, these databases are relational databases. as everyone knows we must use SQL to access these databases. writing an SQL query for every database call is a pain and no one does that these days. instead, we use something called ORMs (Object Relational Mappers). we can use an ORM to access databases without writing SQL or worrying about mapping relations to objects. there are a lot of ORM implementations for every popular language.\ndateCreated: 2018-03-15\ndateModified: 2018-03-15\ndatePublished: 2018-03-15\ndependencies: .Net\nabout: Accessing data on a realational database using Genie\npath: /genie-an-efficient-way-to-access-data\noldPath: /2018/03/20/genie-an-efficient-way-to-access-data\n---\n\nAlmost all the time we need a database to run our apps. most of the time, these databases are relational databases. as everyone knows we must use SQL to access these databases. writing an SQL query for every database call is a pain and no one does that these days. instead, we use something called ORMs (Object Relational Mappers). we can use an ORM to access databases without writing SQL or worrying about mapping relations to objects. there are a lot of ORM implementations for every popular language.\n\nGenie is a simple code generator which generates an ORM with all essential functionalities for you. You can use Genie to create a dot Net class library and use it as a layer between your data source and application. usually, this type of implementation is called a Data Access Layer as it provides an API to access a database. You can write your database logic in this layer. and the code generated by Genie will help you to do that.\n\n## Installing Genie\n\nGenie is a free and open source software. you can download the latest release for Linux/ Windows or Mac from [here](https://github.com/Divicent/Genie)\n\nAfter downloading, extract the zip to some folder and add the path to the folder to the PATH global variable. for Linux users make the GenieCLI file executable by running the command `chmod +x GenieCLI`\n\n## Setting Up\n\nTo use Genie on a database you should create a configuration file. this configuration file specifies all the configuration that Genie needs to generate the code. For this demonstration, I will use a MySql database called bestappdata\n\n```json\n{\n  \"connectionString\":\n    \"Server=localhost;Database=bestappdata;UID=root;Password=password\",\n  \"projectPath\": \"/home/rusith/Documents/Projects/BestAppEver/BackEnd/BestAppEver.DAL\",\n  \"baseNamespace\": \"BestAppEver.DAL\",\n  \"ProjectFile\": \"BestAppEver.DAL.csproj\",\n  \"dbms\": \"mysql\",\n  \"schema\": \"animus\",\n  \"abstractModelsLocation\": \"./../BestAppEver/Models/Data\",\n  \"abstractModelsNamespace\": \"BestAppEver.Models.Data\"\n}\n```\n\nThis configuration file should be named as `genieSettings.json` and can put anywhere in your project. but its good to put this file inside the target library’s location. Genie uses this to fetch database metadata and generate the code. the `projectPath` is the full path to the project folder\n\nBelow is my folder structure for this demonstration. I have put my `genieSettings.json` file inside the `BestAppEver.DAL` folder.\n\n```\n├── BestAppEver\n│   ├── Modules\n├── BestAppEver.API\n│   ├── Controllers\n├── BestAppEver.BL\n│   ├── Services\n├── BestAppEver.DAL\n│   ├── Modules\n│   └── Providers\n└── BestAppEver.UnitTests\n|   ├── Providers\n├── bin\n│   └── Debug\n│       └── netstandard2.0\n├── Dapper\n├── Infrastructure\n│   ├── Actions\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Collections\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Enum\n│   ├── Filters\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Interfaces\n│   ├── Models\n│   │   ├── Abstract\n│   │   │   └── Context\n│   │   └── Concrete\n│   │       └── Context\n│   └── Repositories\n├── Modules\n├── obj\n│   └── Debug\n│       └── netstandard2.0\n└── Providers\n```\n\n## Generating the Code\n\ngo to the directory where the genieSettings.json file exists, run GenieCLI executable by executing GenieCLI in the terminal. we can do this because we have put Genie executable’s folder path to the path variable. otherwise you have to specify full path to the `GenieCLI` executable which is in the zip file you have downloaded.\n\nAfter generating , the BestAppEver.DAL folder will have two new root folders. Will look like below\n\n```\n├── Dapper\n├── Infrastructure\n│   ├── Actions\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Collections\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Enum\n│   ├── Filters\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Interfaces\n│   ├── Models\n│   │   ├── Abstract\n│   │   │   └── Context\n│   │   └── Concrete\n│   │       └── Context\n│   └── Repositories\n├── Modules\n└── Providers\n```\n\n## Writing Code\n\nIn order to continue, you need one thing. you have to implement the `IConnectionStringProvider` in order to user the `DBContext`. create a class for `IConnectionStringProvider` and pass an instance to the `DBContext` when ever needed.\n\n```cs\nusing BestAppEver.DAL.Infrastructure.Interfaces;\n\nnamespace BestAppEver.DAL\n{\n  public class ConnectionProvider : IConnectionStringProvider\n  {\n    public string GetConnectionString()\n    {\n      return \"Server=localhost;Database=bestappdata;UID=root;Password=password\"; // Should be taken from a configuration file \n    }\n  }\n}\n```\n\nYou should initialize `DBContext` only once .you should keep this instance in a global scope. for this demonstration i use .Net core DI to setup my dependencies.\n\n```cs\nusing BestAppEver.Injection;\nusing BestAppEver.DAL.Infrastructure.Interfaces;\nusing BestAppEver.DAL.Infrastructure;\n\nnamespace BestAppEver.DAL.Modules\n{\n  public class DataAccessModule : IModule\n  {\n    public void Bootstrap(IDependencyStore store)\n    {\n      store.Singleton\u003cIConnectionStringProvider, ConnectionProvider\u003e();\n      store.Singleton\u003cIDBContext, DBContext\u003e();\n    }\n  }\n}\n```\n\nI use providers to wrap my database code.\n\n```cs\nusing System;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing BestAppEver.DAL.Infrastructure.Interfaces;\nusing BestAppEver.DAL.Infrastructure.Models.Concrete;\nusing BestAppEver.Models.Data;\nusing BestAppEver.Providers.Data;\n\nnamespace BestAppEver.DAL.Providers\n{\n  public class UserProvider : IUserProvider\n  {\n    private readonly IDBContext _context;\n    public UserProvider(IDBContext context)\n    {\n      _context = context;\n    }\n\n    public async Task Add(IUser user)\n    {\n      var unit = _context.Unit();\n      unit.UserRepository.Add(user);\n      await unit.CommitAsync();\n    }\n\n    public async Task\u003cIUser\u003e Get(int id)\n    {\n      var unit = _context.Unit();\n      return await unit.UserRepository.GetByKeyAsync(id);\n    }\n\n    public async IEnumerable\u003cIUser\u003e GetAll(int skip, int take, string serchText)\n    {\n      var getter = _context.Unit().UserRepository.Get();\n      if (!string.IsNullOrWhiteSpace(serchText))\n      {\n        getter.Where.FirstName.Contains(serchText)\n          .Or.LastName.Contains(serchText);\n      }\n\n      getter.Skip(skip).Take(take);\n\n      return await getter.QueryAsync();\n    }\n\n    public async Task\u003cIUser\u003e GetAsync(int id)\n    {\n      return await _context.Unit().UserRepository.GetByKeyAsync(id);\n    }\n\n    public async Task\u003cIUser\u003e getByEmail(string email)\n    {\n      return await _context.Unit().UserRepository.Get()\n        .Where.Email.EqualsTo(email).Filter().FirstOrDefaultAsync();\n    }\n\n    public async Task Update(IUser user)\n    {\n      await (user  as User).DatabaseUnitOfWork.CommitAsync();\n    }\n  }\n}\n```\n\nThis could have problems with some databases as this is in development and has only tested in Windows 10, Mac OSX Sierra, Ubuntu 16.04. You can contribute to the code through **GitHub**","parsedContent":"\u003cp\u003eAlmost all the time we need a database to run our apps. most of the time, these databases are relational databases. as everyone knows we must use SQL to access these databases. writing an SQL query for every database call is a pain and no one does that these days. instead, we use something called ORMs (Object Relational Mappers). we can use an ORM to access databases without writing SQL or worrying about mapping relations to objects. there are a lot of ORM implementations for every popular language.\u003c/p\u003e\n\u003cp\u003eGenie is a simple code generator which generates an ORM with all essential functionalities for you. You can use Genie to create a dot Net class library and use it as a layer between your data source and application. usually, this type of implementation is called a Data Access Layer as it provides an API to access a database. You can write your database logic in this layer. and the code generated by Genie will help you to do that.\u003c/p\u003e\n\u003ch2 id=\"installinggenie\"\u003eInstalling Genie\u003c/h2\u003e\n\u003cp\u003eGenie is a free and open source software. you can download the latest release for Linux/ Windows or Mac from \u003ca href=\"https://github.com/Divicent/Genie\"\u003ehere\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAfter downloading, extract the zip to some folder and add the path to the folder to the PATH global variable. for Linux users make the GenieCLI file executable by running the command \u003ccode\u003echmod +x GenieCLI\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id=\"settingup\"\u003eSetting Up\u003c/h2\u003e\n\u003cp\u003eTo use Genie on a database you should create a configuration file. this configuration file specifies all the configuration that Genie needs to generate the code. For this demonstration, I will use a MySql database called bestappdata\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs json language-json\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;connectionString\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;Server=localhost;Database=bestappdata;UID=root;Password=password\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;projectPath\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;/home/rusith/Documents/Projects/BestAppEver/BackEnd/BestAppEver.DAL\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;baseNamespace\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;BestAppEver.DAL\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;ProjectFile\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;BestAppEver.DAL.csproj\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;dbms\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;mysql\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;schema\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;animus\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;abstractModelsLocation\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;./../BestAppEver/Models/Data\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;abstractModelsNamespace\u0026quot;\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;BestAppEver.Models.Data\u0026quot;\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis configuration file should be named as \u003ccode\u003egenieSettings.json\u003c/code\u003e and can put anywhere in your project. but its good to put this file inside the target library’s location. Genie uses this to fetch database metadata and generate the code. the \u003ccode\u003eprojectPath\u003c/code\u003e is the full path to the project folder\u003c/p\u003e\n\u003cp\u003eBelow is my folder structure for this demonstration. I have put my \u003ccode\u003egenieSettings.json\u003c/code\u003e file inside the \u003ccode\u003eBestAppEver.DAL\u003c/code\u003e folder.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e├── BestAppEver\n│   ├── Modules\n├── BestAppEver.API\n│   ├── Controllers\n├── BestAppEver.BL\n│   ├── Services\n├── BestAppEver.DAL\n│   ├── Modules\n│   └── Providers\n└── BestAppEver.UnitTests\n|   ├── Providers\n├── bin\n│   └── Debug\n│       └── netstandard2.0\n├── Dapper\n├── Infrastructure\n│   ├── Actions\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Collections\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Enum\n│   ├── Filters\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Interfaces\n│   ├── Models\n│   │   ├── Abstract\n│   │   │   └── Context\n│   │   └── Concrete\n│   │       └── Context\n│   └── Repositories\n├── Modules\n├── obj\n│   └── Debug\n│       └── netstandard2.0\n└── Providers\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"generatingthecode\"\u003eGenerating the Code\u003c/h2\u003e\n\u003cp\u003ego to the directory where the genieSettings.json file exists, run GenieCLI executable by executing GenieCLI in the terminal. we can do this because we have put Genie executable’s folder path to the path variable. otherwise you have to specify full path to the \u003ccode\u003eGenieCLI\u003c/code\u003e executable which is in the zip file you have downloaded.\u003c/p\u003e\n\u003cp\u003eAfter generating , the BestAppEver.DAL folder will have two new root folders. Will look like below\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e├── Dapper\n├── Infrastructure\n│   ├── Actions\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Collections\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Enum\n│   ├── Filters\n│   │   ├── Abstract\n│   │   └── Concrete\n│   ├── Interfaces\n│   ├── Models\n│   │   ├── Abstract\n│   │   │   └── Context\n│   │   └── Concrete\n│   │       └── Context\n│   └── Repositories\n├── Modules\n└── Providers\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"writingcode\"\u003eWriting Code\u003c/h2\u003e\n\u003cp\u003eIn order to continue, you need one thing. you have to implement the \u003ccode\u003eIConnectionStringProvider\u003c/code\u003e in order to user the \u003ccode\u003eDBContext\u003c/code\u003e. create a class for \u003ccode\u003eIConnectionStringProvider\u003c/code\u003e and pass an instance to the \u003ccode\u003eDBContext\u003c/code\u003e when ever needed.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs cs language-cs\"\u003e\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e BestAppEver.DAL.Infrastructure.Interfaces;\n\n\u003cspan class=\"hljs-keyword\"\u003enamespace\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBestAppEver.DAL\u003c/span\u003e\n{\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eConnectionProvider\u003c/span\u003e : \u003cspan class=\"hljs-title\"\u003eIConnectionStringProvider\u003c/span\u003e\n  {\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eGetConnectionString\u003c/span\u003e()\u003c/span\u003e\n    {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026quot;Server=localhost;Database=bestappdata;UID=root;Password=password\u0026quot;\u003c/span\u003e; \u003cspan class=\"hljs-comment\"\u003e// Should be taken from a configuration file \u003c/span\u003e\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou should initialize \u003ccode\u003eDBContext\u003c/code\u003e only once .you should keep this instance in a global scope. for this demonstration i use .Net core DI to setup my dependencies.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs cs language-cs\"\u003e\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e BestAppEver.Injection;\n\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e BestAppEver.DAL.Infrastructure.Interfaces;\n\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e BestAppEver.DAL.Infrastructure;\n\n\u003cspan class=\"hljs-keyword\"\u003enamespace\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBestAppEver.DAL.Modules\u003c/span\u003e\n{\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eDataAccessModule\u003c/span\u003e : \u003cspan class=\"hljs-title\"\u003eIModule\u003c/span\u003e\n  {\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBootstrap\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eIDependencyStore store\u003c/span\u003e)\u003c/span\u003e\n    {\n      store.Singleton\u0026lt;IConnectionStringProvider, ConnectionProvider\u0026gt;();\n      store.Singleton\u0026lt;IDBContext, DBContext\u0026gt;();\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI use providers to wrap my database code.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs cs language-cs\"\u003e\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e System;\n\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e System.Collections.Generic;\n\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e System.Threading.Tasks;\n\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e BestAppEver.DAL.Infrastructure.Interfaces;\n\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e BestAppEver.DAL.Infrastructure.Models.Concrete;\n\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e BestAppEver.Models.Data;\n\u003cspan class=\"hljs-keyword\"\u003eusing\u003c/span\u003e BestAppEver.Providers.Data;\n\n\u003cspan class=\"hljs-keyword\"\u003enamespace\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eBestAppEver.DAL.Providers\u003c/span\u003e\n{\n  \u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eUserProvider\u003c/span\u003e : \u003cspan class=\"hljs-title\"\u003eIUserProvider\u003c/span\u003e\n  {\n    \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ereadonly\u003c/span\u003e IDBContext _context;\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eUserProvider\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eIDBContext context\u003c/span\u003e)\u003c/span\u003e\n    {\n      _context = context;\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e Task \u003cspan class=\"hljs-title\"\u003eAdd\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eIUser user\u003c/span\u003e)\u003c/span\u003e\n    {\n      \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e unit = _context.Unit();\n      unit.UserRepository.Add(user);\n      \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e unit.CommitAsync();\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e Task\u0026lt;IUser\u0026gt; \u003cspan class=\"hljs-title\"\u003eGet\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eint\u003c/span\u003e id\u003c/span\u003e)\u003c/span\u003e\n    {\n      \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e unit = _context.Unit();\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e unit.UserRepository.GetByKeyAsync(id);\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e IEnumerable\u0026lt;IUser\u0026gt; \u003cspan class=\"hljs-title\"\u003eGetAll\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eint\u003c/span\u003e skip, \u003cspan class=\"hljs-built_in\"\u003eint\u003c/span\u003e take, \u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e serchText\u003c/span\u003e)\u003c/span\u003e\n    {\n      \u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e getter = _context.Unit().UserRepository.Get();\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!\u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e.IsNullOrWhiteSpace(serchText))\n      {\n        getter.Where.FirstName.Contains(serchText)\n          .Or.LastName.Contains(serchText);\n      }\n\n      getter.Skip(skip).Take(take);\n\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e getter.QueryAsync();\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e Task\u0026lt;IUser\u0026gt; \u003cspan class=\"hljs-title\"\u003eGetAsync\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003eint\u003c/span\u003e id\u003c/span\u003e)\u003c/span\u003e\n    {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e _context.Unit().UserRepository.GetByKeyAsync(id);\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e Task\u0026lt;IUser\u0026gt; \u003cspan class=\"hljs-title\"\u003egetByEmail\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003cspan class=\"hljs-built_in\"\u003estring\u003c/span\u003e email\u003c/span\u003e)\u003c/span\u003e\n    {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e _context.Unit().UserRepository.Get()\n        .Where.Email.EqualsTo(email).Filter().FirstOrDefaultAsync();\n    }\n\n    \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e Task \u003cspan class=\"hljs-title\"\u003eUpdate\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eIUser user\u003c/span\u003e)\u003c/span\u003e\n    {\n      \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e (user  \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e User).DatabaseUnitOfWork.CommitAsync();\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis could have problems with some databases as this is in development and has only tested in Windows 10, Mac OSX Sierra, Ubuntu 16.04. You can contribute to the code through \u003cstrong\u003eGitHub\u003c/strong\u003e\u003c/p\u003e"},"page":"Post","topTags":["programming","aws","web","machineLearning","react","javascript","dataScience","typescript","r","csharp"],"relatedPosts":[{"title":"One Method, Different Implementations","tags":["programming","csharp"],"fullUrl":"https://rusith.me/blog/one-method-different-implementations","date":"Sat, Aug 4, 2018","description":"We can set Func\u003c\u003es as properties, so people can call them just like methods, and we can change the function from the constructor according to the user's needs. in this example, I am creating a class which has few methods to download data, the user of the class can decide whether they should cache the results or not","banner":null},{"title":"Deploying an app on AWS ECS with CDK","tags":["programming","nextJS","react","aws","ecs","typescript","cdk","devops"],"fullUrl":"https://rusith.me/blog/deploy-app-on-aws-ecs-with-cdk-auto-scaling-and-load-balancing","date":"Wed, Feb 15, 2023","description":"How to deploy an application on AWS ECS with load-balancing and auto-scaling using CDK by writing the CDK code in TypeScript","banner":"/post-data/2023-02-15-deploying-react-app-on-ecs/banner.png"},{"title":"Testing Redux Connected React Components Using Jest","tags":["programming","javascript","react","redux","testing","jest"],"fullUrl":"https://rusith.me/blog/testing-react-redux-connected-components-using-jest","date":"Mon, Apr 27, 2020","description":"Testing React components connected to a Redux store using Jest and React Testing Library.","banner":"/post-data/2020-04-27-testing-redux-connect/banner.png"}]},"__N_SSG":true},"page":"/[[...path]]","query":{"path":["2018","03","20","genie-an-efficient-way-to-access-data"]},"buildId":"PaoTT2YDvwYY_jbobaNoC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>